<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/" xmlns:set="http://www.sitecore.net/xmlconfig/set/" xmlns:role="http://www.sitecore.net/xmlconfig/role/" xmlns:environment="http://www.sitecore.net/xmlconfig/environment/">
  <sitecore>
    <pipelines role:require="Standalone or ContentManagement" environment:require="Local or Staging or Production">
      <speak.logout argsType="Sitecore.Pipelines.Logout.LogoutArgs">
        <processor type="Feature.Wealth.Account.Pipelines.SingleSignOut, Feature.Wealth.Account" mode="on" />
      </speak.logout>
    </pipelines>
    <processors role:require="Standalone or ContentManagement" environment:require="Local or Staging or Production">
      <logout argsType="Sitecore.Pipelines.Logout.LogoutArgs">
        <processor patch:before="processor[@type='Sitecore.Pipelines.Logout.GotoLogin, Sitecore.Kernel']" type="Feature.Wealth.Account.Pipelines.SingleSignOut, Feature.Wealth.Account" mode="on" />
      </logout>
    </processors>
    <authoring role:require="Standalone or ContentManagement" environment:require="Local or Staging or Production">
      <graphql>
        <tokenValidator>
          <param desc="authenticationType">
            <patch:delete />
          </param>
          <param desc="authenticationType"></param>
        </tokenValidator>
      </graphql>
    </authoring>
    <federatedAuthentication role:require="Standalone or ContentManagement" environment:require="Local or Staging or Production">
      <identityProviders>
        <identityProvider id="SitecoreIdentityServer">
          <enabled>false</enabled>
        </identityProvider>
      </identityProviders>
    </federatedAuthentication>
    <sites role:require="Standalone or ContentManagement">
      <site name="shell">
        <patch:attribute name="loginPage" environment:require="Local or Development">/sitecore/login</patch:attribute>
      </site>
      <site name="admin">
        <patch:attribute name="loginPage" environment:require="Local or Staging or Production">/sitecore/admin/login.aspx</patch:attribute>
      </site>
      <site name="login-sso" inherits="login" patch:before="site[@name='login']" environment:require="Local or Staging or Production">
        <patch:attribute name="virtualFolder">/sso/login</patch:attribute>
        <patch:attribute name="physicalFolder">/sso/login</patch:attribute>
        <patch:attribute name="language">zh-TW</patch:attribute>
      </site>
    </sites>
    <settings>
      <setting name="Feature.Wealth.Account.SSO.LogoutUrl" value="https://am.firstbank.com.tw/AGLogout">
        <patch:attribute name="value" environment:require="Staging">https://am5test.firstbank-tt.com.tw/AGLogout</patch:attribute>
      </setting>
    <!--第三方登入資訊-->
      <setting name="Facebook.AppId" value="1141789380446473"  environment:require="Local or Development">
        <patch:attribute value="2209337179431272" environment:require="Staging"/>
        <patch:attribute value="472848741837981" environment:require="Production"/>
      </setting>
      <setting name="Facebook.AppSecret" value="981b2d74dff9aaecca7ae5ec28a4ee0e"  environment:require="Local or Development">
        <patch:attribute value="d495c096d8839ea50ca29d4713bd707e" environment:require="Staging"/>
        <patch:attribute value="de5a8040590ae4b3c0859636b1353658" environment:require="Production"/>
      </setting>
      <setting name="Facebook.AuthUrl" value="https://www.facebook.com/v19.0/dialog/oauth?client_id={AppId}&amp;redirect_uri={RedirectUrl}&amp;state={state}" />
      <setting name="Facebook.TokenUrl" value="https://graph.facebook.com/v19.0/oauth/access_token?client_id={AppId}&amp;redirect_uri={RedirectUrl}&amp;client_secret={AppSecret}&amp;code={code}" />
      <setting name="Facebook.ProfileUrl" value="https://graph.facebook.com/v19.0/me?fields=id,name,email" />
      <setting name="Line.ClientId" value="2004541583" environment:require="Local or Development" >
        <patch:attribute value="1619990426" environment:require="Staging"/>
        <patch:attribute value="1626443810" environment:require="Production"/>
      </setting>
      <setting name="Line.ClientSecret" value="614ececff1b8984eef0cfdb784b6db75" environment:require="Local or Development">
        <patch:attribute value="e4aa6c7dd4d61c3c1dcc3cfa65231637" environment:require="Staging"/>
        <patch:attribute value="b5ee994321512fa6dcf85fa8055f9e2c" environment:require="Production"/>
      </setting>
      <setting name="Line.AuthUrl" value="https://access.line.me/oauth2/v2.1/authorize?scope={scope}&amp;response_type=code&amp;state={state}&amp;redirect_uri={RedirectUrl}&amp;client_id={clientid}"/>
      <setting name="Line.TokenUrl" value="https://api.line.me/oauth2/v2.1/token"/>
      <setting name="Line.ProfileUrl" value="https://api.line.me/v2/profile"/>
      <setting name="Line.VerifyUrl" value="https://api.line.me/oauth2/v2.1/verify"/>
      <!--一銀網銀登入AppAay資訊-->
      <setting name="AppPay.Id" value="WEA" environment:require="Local or Development or Staging" >
        <patch:attribute value="" environment:require="Production"/>
      </setting>
      <setting name="AppPay.Key" value="gIVNc3DU71n9yJEc1qPY" environment:require="Local or Development or Staging">
        <patch:attribute value="" environment:require="Production"/>
      </setting>
      <setting name="AppPay.VerifyUrl" value="https://10.14.84.3/apppay/0201.do" environment:require="Local or Development or Staging" >
        <patch:attribute value="" environment:require="Production"/>
      </setting>
      <setting name="AppPay.CallLoginUrl" value="https://10.14.84.3/apppay/0202.do" environment:require="Local or Development or Staging">
        <patch:attribute value="" environment:require="Production"/>
      </setting>
    </settings>
  </sitecore>
</configuration>