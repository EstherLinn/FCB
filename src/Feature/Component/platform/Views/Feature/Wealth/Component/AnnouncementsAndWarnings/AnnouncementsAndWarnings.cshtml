@using Feature.Wealth.Component.Models.Tab
@model TabModel

@{
    var placeholderKeyPrefix = "tab"; //placeholderKey 如tab1、tab2
}

<div class="c-section c-section--tab">
    <div class="l-wrap">
        <div class="c-section__content">
            <div class="c-tab c-tab--wide" data-tab="true">
                <div class="c-tab__header">
                    <ul class="c-tab__navs">
                        @for (var i = 0; i < Model.SubItems.Count(); i++)
                        {
                            var title = Html.Sitecore().Field(SubItemTemplates.Title.ToString(), Model.SubItems[i]);
                            var active = i == 0 ? "is-active" : string.Empty;

                            <li>
                                <a href="#" class="c-tab__item @active" target="_self" title="@title" data-tab-target="tab-@(i + 1)">@title</a>
                            </li>
                        }
                    </ul>
                    <div class="c-tab__collapse">
                        <a href="#" class="c-tab__switch"></a>
                        <div class="c-tab__dropdown">
                            @for (var i = 0; i < Model.SubItems.Count(); i++)
                            {
                                var title = Html.Sitecore().Field(SubItemTemplates.Title.ToString(), Model.SubItems[i]);
                                var active = i == 0 ? "is-active" : string.Empty;

                                <a href="#" class="c-tab__clone @active" target="_self" title="@title" data-tab-target="tab-@(i + 1)">@title</a>
                            }
                        </div>
                    </div>
                </div>
                <!-- is-active: 作用中的項目 -->
                @for (var i = 0; i < Model.SubItems.Count(); i++)
                {
                    var item = Model.SubItems[i];
                    var active = i == 0 ? "is-active" : string.Empty;
                    string num = (i + 1).ToString();

                    <div class="c-tab__panel @active" data-tab-panel-id="tab-@num">
                        @Html.Sitecore().Placeholder("AnnouncementsTab" + num)
                        @Html.Sitecore().Placeholder("MoreAnnouncementsTab" + num)
                        @Html.Sitecore().Placeholder("FileDownloadTab" + num)
                        @Html.Sitecore().Placeholder("WarningsTab" + num)
                    </div>
                }
            </div>
        </div>
    </div>
</div>