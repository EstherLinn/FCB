//// extensions.js/20240501
!function(t,e){"use strict";if(t.stopBubble||(t.stopBubble=function(t){t&&t.stopPropagation&&t.stopPropagation()}),t.stopDefault||(t.stopDefault=function(t){return t&&t.preventDefault&&t.preventDefault(),!1}),t.addObjectValue||(t.addObjectValue=function t(e,n,l){const o=t.d||(t.d={enumerable:!1,writable:!1,configurable:!1,value:null});o.value=l,Object.defineProperty(e,n,o)}),t.stringRender||(t.stringRender=function(t,e){return t.replace(/\{\{(.*?)\}\}/g,(function(t,n){const l=e[n];return l||0===l?l.toString():(null!==l&&console.warn(t+" is not match of %O",Object.keys(e)),"")}))}),!t.stringFormat){function n(t){return new RegExp("({)?\\{"+t+"\\}(?!})","gm")}t.stringFormat=function(t){let e=t;if(null==e)return"";for(let t=0;t<arguments.length-1;t++){let l=n(t);e=e.replace(l,null==arguments[t+1]?"":arguments[t+1])}return null==(l=e)?"":l.replace(n("\\d+"),"");var l}}t.debounce||(t.debounce=function(t,e,n){const l=t.delay||e||35;return function(...e){const o=this;t._id&&clearTimeout(t._id),n&&!t._id&&t.apply(o,e),t._id=setTimeout((()=>{n||t.apply(o,e),t._id=null}),l)}}),t.throttle||(t.throttle=function(t,e,n){const l=t.delay||e||35;let o=0,r=!0,i=!1;return null!=n&&"object"==typeof n&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),function(...e){const n=this,u=(new Date).getTime();u-o>l&&r?(t._id&&(t._id=null),o=u,t.apply(n,e)):!t._id&&i&&(t._id=setTimeout((()=>{o=(new Date).getTime(),t._id=null,t.apply(n,e)}),l))}}),t.getAllElements||(t.getAllElements=function(t){const n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Array.prototype.slice.call(n.querySelectorAll(t),0)}),t.extend||(t.extend=function(t){t=t||{};for(let e=1;e<arguments.length;e++)if(arguments[e])for(let n in arguments[e])arguments[e].hasOwnProperty(n)&&(t[n]=arguments[e][n]);return t}),t.getParents||(t.getParents=function(t,n){void 0===n&&(n=e);const l=[];let o=t.parentNode;for(;o!==n;){const t=o;l.push(t),o=t.parentNode}return l.push(n),l})}(window,document);
!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.EventHandler=t(),"loading"!==document.readyState?e.EventHandler.Run():document.addEventListener("DOMContentLoaded",(function(){e.EventHandler.Run()}))}(this,(function(){"use strict";const e=function(){};e.prototype={AddClick:function(e,t,n){let c="click.eh";n&&(c+=".scope"),this._addEvent(c,e,t)},AddChange:function(e,t,n){let c="change.eh";!0===n&&(c+=".scope"),this._addEvent(c,e,t)},AddExec:function(e,t){this._addEvent("exec",e,t)},AddOnExec:function(e,t){this._addEvent("exec.eh.scope",e,t)},AddAction:function(e,t){this._addEvent("action",e,t)},AddMessage:function(e,t){this._addEvent("message",e,t)},_addEvent:function(e,t,n){t=t.toLowerCase(),this._handlerEvents[e][t]||(this._handlerEvents[e][t]=n)},_settings:{selector:"[data-eh]"},_handlerEvents:{"click.eh":{},"click.eh.scope":{},"change.eh":{},"change.eh.scope":{},exec:{},"exec.eh.scope":{},action:{},message:{}},Run:function(){const e=Object.keys(this._handlerEvents);for(let t in e)if(Object.hasOwn(e,t)){const n=e[t],c=this._handlerEvents[n];if(Object.entries(c).length>0)switch(n){case"action":this.ActionHandle(c);break;case"exec":this.ExecHandle(n,c);break;case"exec.eh":this.OnExecHandle(n,c);break;case"click.eh":case"change.eh":this.OnEventHandle(n,c);break;case"click.eh.scope":case"change.eh.scope":this.OnScopeEventHandle(n,c);break;case"message":this.ListenMessage(c)}}}};const t=new e;return t.OnScopeEventHandle=function(e,t){let n=document.querySelectorAll(this._settings.selector);for(let c=0,s=n.length;c<s;++c){let s=n[c],i=s.dataset.eh;if(!i)continue;let o=i.split(",");for(let n=0,c=o.length;n<c;++n){let c=o[n],i=t[c];if(i){let t=e+"."+c;$(s).off(t).on(t,"[eh-"+c+"]",i)}}}},t.OnEventHandle=function(e,t){$(document.body).off(e).on(e,this._settings.selector,{handlers:t},(function(e){let t=this,n=t.dataset.eh;if(!n)return;let c=n.split(","),s=e.data.handlers;for(let n=0,i=c.length;n<i;++n){let i=c[n],o=s[i];o&&o.call(t,e,i)}}))},t.OnExecHandle=function(e,t){let n=document.querySelectorAll(this._settings.selector);for(let c=0,s=n.length;c<s;++c){let s=n[c],i=s.dataset.eh;if(!i)continue;let o=i.split(",");for(let n=0,c=o.length;n<c;++n){let c=o[n],i=t[c];if(i){let t=$(s),n=e+"."+c;t.off(n).on(n,i),t.trigger(n)}}}},t.ExecHandle=function(e){let t=document.querySelectorAll(this._settings.selector);for(let n=0,c=t.length;n<c;++n){let c=t[n],s=c.dataset.eh;if(!s)continue;let i=s.split(",");for(let t=0,n=i.length;t<n;++t){let n=i[t],s=e[n];s&&s.call(null,c,n)}}},t.ActionHandle=function(e){const t=Object.keys(e);for(let n in t)Object.hasOwn(t,n)&&e[t[n]].call(null,t[n])},t.ListenMessage=function(e){window.addEventListener("message",(function(t){const n=Object.keys(t.data);for(let c in n)if(Object.hasOwn(n,c)){const s=n[c];if(e.hasOwnProperty(s)){const n=t.data[s],c=t.origin;e[s](n,c)}}}),!1)},t}));
/*! @license DOMPurify 3.1.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.0/LICENSE */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).DOMPurify=t()}(this,(function(){"use strict";const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:o,getOwnPropertyDescriptor:r}=Object;let{freeze:i,seal:a,create:l}=Object,{apply:c,construct:s}="undefined"!=typeof Reflect&&Reflect;i||(i=function(e){return e}),a||(a=function(e){return e}),c||(c=function(e,t,n){return e.apply(t,n)}),s||(s=function(e,t){return new e(...t)});const u=b(Array.prototype.forEach),m=b(Array.prototype.pop),p=b(Array.prototype.push),f=b(String.prototype.toLowerCase),d=b(String.prototype.toString),h=b(String.prototype.match),g=b(String.prototype.replace),T=b(String.prototype.indexOf),y=b(String.prototype.trim),E=b(Object.prototype.hasOwnProperty),A=b(RegExp.prototype.test),_=(N=TypeError,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s(N,t)});var N;function b(e){return function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];return c(e,t,o)}}function S(e,o){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;t&&t(e,null);let i=o.length;for(;i--;){let t=o[i];if("string"==typeof t){const e=r(t);e!==t&&(n(o)||(o[i]=e),t=e)}e[t]=!0}return e}function R(e){for(let t=0;t<e.length;t++){E(e,t)||(e[t]=null)}return e}function w(t){const n=l(null);for(const[o,r]of e(t)){E(t,o)&&(Array.isArray(r)?n[o]=R(r):r&&"object"==typeof r&&r.constructor===Object?n[o]=w(r):n[o]=r)}return n}function L(e,t){for(;null!==e;){const n=r(e,t);if(n){if(n.get)return b(n.get);if("function"==typeof n.value)return b(n.value)}e=o(e)}return function(){return null}}const D=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),C=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),O=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),x=i(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),v=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),k=i(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),M=i(["#text"]),I=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),U=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),P=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),F=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),z=a(/<%[\w\W]*|[\w\W]*%>/gm),B=a(/\${[\w\W]*}/gm),W=a(/^data-[\-\w.\u00B7-\uFFFF]/),G=a(/^aria-[\-\w]+$/),Y=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),j=a(/^(?:\w+script|data):/i),X=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),q=a(/^html$/i),$=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var K=Object.freeze({__proto__:null,MUSTACHE_EXPR:H,ERB_EXPR:z,TMPLIT_EXPR:B,DATA_ATTR:W,ARIA_ATTR:G,IS_ALLOWED_URI:Y,IS_SCRIPT_OR_DATA:j,ATTR_WHITESPACE:X,DOCTYPE_NAME:q,CUSTOM_ELEMENT:$});const V=function(){return"undefined"==typeof window?null:window},Z=function(e,t){if("object"!=typeof e||"function"!=typeof e.createPolicy)return null;let n=null;const o="data-tt-policy-suffix";t&&t.hasAttribute(o)&&(n=t.getAttribute(o));const r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:e=>e,createScriptURL:e=>e})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};var J=function t(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V();const o=e=>t(e);if(o.version="3.1.0",o.removed=[],!n||!n.document||9!==n.document.nodeType)return o.isSupported=!1,o;let{document:r}=n;const a=r,c=a.currentScript,{DocumentFragment:s,HTMLTemplateElement:N,Node:b,Element:R,NodeFilter:H,NamedNodeMap:z=n.NamedNodeMap||n.MozNamedAttrMap,HTMLFormElement:B,DOMParser:W,trustedTypes:G}=n,j=R.prototype,X=L(j,"cloneNode"),$=L(j,"nextSibling"),J=L(j,"childNodes"),Q=L(j,"parentNode");if("function"==typeof N){const e=r.createElement("template");e.content&&e.content.ownerDocument&&(r=e.content.ownerDocument)}let ee,te="";const{implementation:ne,createNodeIterator:oe,createDocumentFragment:re,getElementsByTagName:ie}=r,{importNode:ae}=a;let le={};o.isSupported="function"==typeof e&&"function"==typeof Q&&ne&&void 0!==ne.createHTMLDocument;const{MUSTACHE_EXPR:ce,ERB_EXPR:se,TMPLIT_EXPR:ue,DATA_ATTR:me,ARIA_ATTR:pe,IS_SCRIPT_OR_DATA:fe,ATTR_WHITESPACE:de,CUSTOM_ELEMENT:he}=K;let{IS_ALLOWED_URI:ge}=K,Te=null;const ye=S({},[...D,...C,...O,...v,...M]);let Ee=null;const Ae=S({},[...I,...U,...P,...F]);let _e=Object.seal(l(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Ne=null,be=null,Se=!0,Re=!0,we=!1,Le=!0,De=!1,Ce=!0,Oe=!1,xe=!1,ve=!1,ke=!1,Me=!1,Ie=!1,Ue=!0,Pe=!1;const Fe="user-content-";let He=!0,ze=!1,Be={},We=null;const Ge=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Ye=null;const je=S({},["audio","video","img","source","image","track"]);let Xe=null;const qe=S({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$e="http://www.w3.org/1998/Math/MathML",Ke="http://www.w3.org/2000/svg",Ve="http://www.w3.org/1999/xhtml";let Ze=Ve,Je=!1,Qe=null;const et=S({},[$e,Ke,Ve],d);let tt=null;const nt=["application/xhtml+xml","text/html"],ot="text/html";let rt=null,it=null;const at=r.createElement("form"),lt=function(e){return e instanceof RegExp||e instanceof Function},ct=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!it||it!==e){if(e&&"object"==typeof e||(e={}),e=w(e),tt=-1===nt.indexOf(e.PARSER_MEDIA_TYPE)?ot:e.PARSER_MEDIA_TYPE,rt="application/xhtml+xml"===tt?d:f,Te=E(e,"ALLOWED_TAGS")?S({},e.ALLOWED_TAGS,rt):ye,Ee=E(e,"ALLOWED_ATTR")?S({},e.ALLOWED_ATTR,rt):Ae,Qe=E(e,"ALLOWED_NAMESPACES")?S({},e.ALLOWED_NAMESPACES,d):et,Xe=E(e,"ADD_URI_SAFE_ATTR")?S(w(qe),e.ADD_URI_SAFE_ATTR,rt):qe,Ye=E(e,"ADD_DATA_URI_TAGS")?S(w(je),e.ADD_DATA_URI_TAGS,rt):je,We=E(e,"FORBID_CONTENTS")?S({},e.FORBID_CONTENTS,rt):Ge,Ne=E(e,"FORBID_TAGS")?S({},e.FORBID_TAGS,rt):{},be=E(e,"FORBID_ATTR")?S({},e.FORBID_ATTR,rt):{},Be=!!E(e,"USE_PROFILES")&&e.USE_PROFILES,Se=!1!==e.ALLOW_ARIA_ATTR,Re=!1!==e.ALLOW_DATA_ATTR,we=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Le=!1!==e.ALLOW_SELF_CLOSE_IN_ATTR,De=e.SAFE_FOR_TEMPLATES||!1,Ce=!1!==e.SAFE_FOR_XML,Oe=e.WHOLE_DOCUMENT||!1,ke=e.RETURN_DOM||!1,Me=e.RETURN_DOM_FRAGMENT||!1,Ie=e.RETURN_TRUSTED_TYPE||!1,ve=e.FORCE_BODY||!1,Ue=!1!==e.SANITIZE_DOM,Pe=e.SANITIZE_NAMED_PROPS||!1,He=!1!==e.KEEP_CONTENT,ze=e.IN_PLACE||!1,ge=e.ALLOWED_URI_REGEXP||Y,Ze=e.NAMESPACE||Ve,_e=e.CUSTOM_ELEMENT_HANDLING||{},e.CUSTOM_ELEMENT_HANDLING&&lt(e.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_e.tagNameCheck=e.CUSTOM_ELEMENT_HANDLING.tagNameCheck),e.CUSTOM_ELEMENT_HANDLING&&lt(e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_e.attributeNameCheck=e.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),e.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(_e.allowCustomizedBuiltInElements=e.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),De&&(Re=!1),Me&&(ke=!0),Be&&(Te=S({},M),Ee=[],!0===Be.html&&(S(Te,D),S(Ee,I)),!0===Be.svg&&(S(Te,C),S(Ee,U),S(Ee,F)),!0===Be.svgFilters&&(S(Te,O),S(Ee,U),S(Ee,F)),!0===Be.mathMl&&(S(Te,v),S(Ee,P),S(Ee,F))),e.ADD_TAGS&&(Te===ye&&(Te=w(Te)),S(Te,e.ADD_TAGS,rt)),e.ADD_ATTR&&(Ee===Ae&&(Ee=w(Ee)),S(Ee,e.ADD_ATTR,rt)),e.ADD_URI_SAFE_ATTR&&S(Xe,e.ADD_URI_SAFE_ATTR,rt),e.FORBID_CONTENTS&&(We===Ge&&(We=w(We)),S(We,e.FORBID_CONTENTS,rt)),He&&(Te["#text"]=!0),Oe&&S(Te,["html","head","body"]),Te.table&&(S(Te,["tbody"]),delete Ne.tbody),e.TRUSTED_TYPES_POLICY){if("function"!=typeof e.TRUSTED_TYPES_POLICY.createHTML)throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof e.TRUSTED_TYPES_POLICY.createScriptURL)throw _('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');ee=e.TRUSTED_TYPES_POLICY,te=ee.createHTML("")}else void 0===ee&&(ee=Z(G,c)),null!==ee&&"string"==typeof te&&(te=ee.createHTML(""));i&&i(e),it=e}},st=S({},["mi","mo","mn","ms","mtext"]),ut=S({},["foreignobject","desc","title","annotation-xml"]),mt=S({},["title","style","font","a","script"]),pt=S({},[...C,...O,...x]),ft=S({},[...v,...k]),dt=function(e){let t=Q(e);t&&t.tagName||(t={namespaceURI:Ze,tagName:"template"});const n=f(e.tagName),o=f(t.tagName);return!!Qe[e.namespaceURI]&&(e.namespaceURI===Ke?t.namespaceURI===Ve?"svg"===n:t.namespaceURI===$e?"svg"===n&&("annotation-xml"===o||st[o]):Boolean(pt[n]):e.namespaceURI===$e?t.namespaceURI===Ve?"math"===n:t.namespaceURI===Ke?"math"===n&&ut[o]:Boolean(ft[n]):e.namespaceURI===Ve?!(t.namespaceURI===Ke&&!ut[o])&&(!(t.namespaceURI===$e&&!st[o])&&(!ft[n]&&(mt[n]||!pt[n]))):!("application/xhtml+xml"!==tt||!Qe[e.namespaceURI]))},ht=function(e){p(o.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.remove()}},gt=function(e,t){try{p(o.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){p(o.removed,{attribute:null,from:t})}if(t.removeAttribute(e),"is"===e&&!Ee[e])if(ke||Me)try{ht(t)}catch(e){}else try{t.setAttribute(e,"")}catch(e){}},Tt=function(e){let t=null,n=null;if(ve)e="<remove></remove>"+e;else{const t=h(e,/^[\r\n\t ]+/);n=t&&t[0]}"application/xhtml+xml"===tt&&Ze===Ve&&(e='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+e+"</body></html>");const o=ee?ee.createHTML(e):e;if(Ze===Ve)try{t=(new W).parseFromString(o,tt)}catch(e){}if(!t||!t.documentElement){t=ne.createDocument(Ze,"template",null);try{t.documentElement.innerHTML=Je?te:o}catch(e){}}const i=t.body||t.documentElement;return e&&n&&i.insertBefore(r.createTextNode(n),i.childNodes[0]||null),Ze===Ve?ie.call(t,Oe?"html":"body")[0]:Oe?t.documentElement:i},yt=function(e){return oe.call(e.ownerDocument||e,e,H.SHOW_ELEMENT|H.SHOW_COMMENT|H.SHOW_TEXT|H.SHOW_PROCESSING_INSTRUCTION|H.SHOW_CDATA_SECTION,null)},Et=function(e){return e instanceof B&&("string"!=typeof e.nodeName||"string"!=typeof e.textContent||"function"!=typeof e.removeChild||!(e.attributes instanceof z)||"function"!=typeof e.removeAttribute||"function"!=typeof e.setAttribute||"string"!=typeof e.namespaceURI||"function"!=typeof e.insertBefore||"function"!=typeof e.hasChildNodes)},At=function(e){return"function"==typeof b&&e instanceof b},_t=function(e,t,n){le[e]&&u(le[e],(e=>{e.call(o,t,n,it)}))},Nt=function(e){let t=null;if(_t("beforeSanitizeElements",e,null),Et(e))return ht(e),!0;const n=rt(e.nodeName);if(_t("uponSanitizeElement",e,{tagName:n,allowedTags:Te}),e.hasChildNodes()&&!At(e.firstElementChild)&&A(/<[/\w]/g,e.innerHTML)&&A(/<[/\w]/g,e.textContent))return ht(e),!0;if(7===e.nodeType)return ht(e),!0;if(Ce&&8===e.nodeType&&A(/<[/\w]/g,e.data))return ht(e),!0;if(!Te[n]||Ne[n]){if(!Ne[n]&&St(n)){if(_e.tagNameCheck instanceof RegExp&&A(_e.tagNameCheck,n))return!1;if(_e.tagNameCheck instanceof Function&&_e.tagNameCheck(n))return!1}if(He&&!We[n]){const t=Q(e)||e.parentNode,n=J(e)||e.childNodes;if(n&&t){for(let o=n.length-1;o>=0;--o)t.insertBefore(X(n[o],!0),$(e))}}return ht(e),!0}return e instanceof R&&!dt(e)?(ht(e),!0):"noscript"!==n&&"noembed"!==n&&"noframes"!==n||!A(/<\/no(script|embed|frames)/i,e.innerHTML)?(De&&3===e.nodeType&&(t=e.textContent,u([ce,se,ue],(e=>{t=g(t,e," ")})),e.textContent!==t&&(p(o.removed,{element:e.cloneNode()}),e.textContent=t)),_t("afterSanitizeElements",e,null),!1):(ht(e),!0)},bt=function(e,t,n){if(Ue&&("id"===t||"name"===t)&&(n in r||n in at))return!1;if(Re&&!be[t]&&A(me,t));else if(Se&&A(pe,t));else if(!Ee[t]||be[t]){if(!(St(e)&&(_e.tagNameCheck instanceof RegExp&&A(_e.tagNameCheck,e)||_e.tagNameCheck instanceof Function&&_e.tagNameCheck(e))&&(_e.attributeNameCheck instanceof RegExp&&A(_e.attributeNameCheck,t)||_e.attributeNameCheck instanceof Function&&_e.attributeNameCheck(t))||"is"===t&&_e.allowCustomizedBuiltInElements&&(_e.tagNameCheck instanceof RegExp&&A(_e.tagNameCheck,n)||_e.tagNameCheck instanceof Function&&_e.tagNameCheck(n))))return!1}else if(Xe[t]);else if(A(ge,g(n,de,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==T(n,"data:")||!Ye[e]){if(we&&!A(fe,g(n,de,"")));else if(n)return!1}else;return!0},St=function(e){return"annotation-xml"!==e&&h(e,he)},Rt=function(e){_t("beforeSanitizeAttributes",e,null);const{attributes:t}=e;if(!t)return;const n={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ee};let r=t.length;for(;r--;){const i=t[r],{name:a,namespaceURI:l,value:c}=i,s=rt(a);let p="value"===a?c:y(c);if(n.attrName=s,n.attrValue=p,n.keepAttr=!0,n.forceKeepAttr=void 0,_t("uponSanitizeAttribute",e,n),p=n.attrValue,n.forceKeepAttr)continue;if(gt(a,e),!n.keepAttr)continue;if(!Le&&A(/\/>/i,p)){gt(a,e);continue}De&&u([ce,se,ue],(e=>{p=g(p,e," ")}));const f=rt(e.nodeName);if(bt(f,s,p)){if(!Pe||"id"!==s&&"name"!==s||(gt(a,e),p=Fe+p),ee&&"object"==typeof G&&"function"==typeof G.getAttributeType)if(l);else switch(G.getAttributeType(f,s)){case"TrustedHTML":p=ee.createHTML(p);break;case"TrustedScriptURL":p=ee.createScriptURL(p)}try{l?e.setAttributeNS(l,a,p):e.setAttribute(a,p),m(o.removed)}catch(e){}}}_t("afterSanitizeAttributes",e,null)},wt=function e(t){let n=null;const o=yt(t);for(_t("beforeSanitizeShadowDOM",t,null);n=o.nextNode();)_t("uponSanitizeShadowNode",n,null),Nt(n)||(n.content instanceof s&&e(n.content),Rt(n));_t("afterSanitizeShadowDOM",t,null)};return o.sanitize=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,r=null,i=null,l=null;if(Je=!e,Je&&(e="\x3c!--\x3e"),"string"!=typeof e&&!At(e)){if("function"!=typeof e.toString)throw _("toString is not a function");if("string"!=typeof(e=e.toString()))throw _("dirty is not a string, aborting")}if(!o.isSupported)return e;if(xe||ct(t),o.removed=[],"string"==typeof e&&(ze=!1),ze){if(e.nodeName){const t=rt(e.nodeName);if(!Te[t]||Ne[t])throw _("root node is forbidden and cannot be sanitized in-place")}}else if(e instanceof b)n=Tt("\x3c!----\x3e"),r=n.ownerDocument.importNode(e,!0),1===r.nodeType&&"BODY"===r.nodeName||"HTML"===r.nodeName?n=r:n.appendChild(r);else{if(!ke&&!De&&!Oe&&-1===e.indexOf("<"))return ee&&Ie?ee.createHTML(e):e;if(n=Tt(e),!n)return ke?null:Ie?te:""}n&&ve&&ht(n.firstChild);const c=yt(ze?e:n);for(;i=c.nextNode();)Nt(i)||(i.content instanceof s&&wt(i.content),Rt(i));if(ze)return e;if(ke){if(Me)for(l=re.call(n.ownerDocument);n.firstChild;)l.appendChild(n.firstChild);else l=n;return(Ee.shadowroot||Ee.shadowrootmode)&&(l=ae.call(a,l,!0)),l}let m=Oe?n.outerHTML:n.innerHTML;return Oe&&Te["!doctype"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&A(q,n.ownerDocument.doctype.name)&&(m="<!DOCTYPE "+n.ownerDocument.doctype.name+">\n"+m),De&&u([ce,se,ue],(e=>{m=g(m,e," ")})),ee&&Ie?ee.createHTML(m):m},o.setConfig=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ct(e),xe=!0},o.clearConfig=function(){it=null,xe=!1},o.isValidAttribute=function(e,t,n){it||ct({});const o=rt(e),r=rt(t);return bt(o,r,n)},o.addHook=function(e,t){"function"==typeof t&&(le[e]=le[e]||[],p(le[e],t))},o.removeHook=function(e){if(le[e])return m(le[e])},o.removeHooks=function(e){le[e]&&(le[e]=[])},o.removeAllHooks=function(){le={}},o}();return J}));
//// lib/1.5.2/filter.js => 20240101
!function(t){"use strict";let r=function(t,r){return new n(t,r||{})};t.JsonQuery=r,r.VERSION="0.0.2",r.Config={id:"id",latitude:"latitude",longitude:"longitude",date_regx:/^\d{4}-\d{2}-\d{2}$/},r.blankClone=function(t,r){return new n(r,{getterFns:t.getterFns,schema:t.schema,id:t.id,latitude:t.latitude,longitude:t.longitude})};let i=r.Config,e=function(t,r,i){if(t.length===+t.length)for(let e=0,n=t.length;e<n;e++)r.call(i,t[e],e);else for(let e in t)hasOwnProperty.call(t,e)&&r.call(i,t[e],e)},n=function(t,r){this.records=t||[],this.getterFns=r.getterFns||{},this.lat=r.latitude||i.latitude,this.lng=r.longitude||i.longitude,this.id=r.id,r.schema&&(this.schema=r.schema),this.records.length&&!this.schema&&c(this,t[0],r.schema)},s=n.prototype,c=function(t,r,e){t.schema={},t.id||(t.id=r._id?"_id":i.id),e||(h.call(t,r),a.call(t,r))},o=function(t){if(null==t)return"String";let r=Object.prototype.toString.call(t).slice(8,-1);return"String"==r&&t.match(i.date_regx)?"Date":r},h=function(t,r){let i,e,n,s;for(i in t)s=t[i],e=o(s),n=r?r+"."+i:i,this.schema[n]=e,"Object"==e?h.call(this,s,n):"Array"==e&&(["Object","Array"].indexOf(o(s[0]))>-1?h.call(this,t[i][0],n):this.schema[n]=o(s[0]))},a=function(t){let r,i,e;for(r in this.schema){i=this.schema[r];try{this.getterFns[r]||(this.getterFns[r]=u.call(this,r,i)),e=this.getterFns[r](t),"Array"==o(e)&&(this.schema[r]="Array")}catch(t){console.log("Error while generating getter function for selector : "+r+" NOTE: Define manually")}}},u=function(t,r){let i,e,n,s="",c=t.split("."),o=function(t,r){let i,e=0,n=0,s=r.length-1;for(let c=r.length-1;c>=0;c--)i=r.slice(0,c+1).join("."),"Array"==t[i]&&c<s&&(e=c,n+=1);return n>1?e+1:-1}(this.schema,c);for(let t=c.length-1;t>=0;t--)i=c.slice(0,t+1).join("."),e="['"+c[t]+"']",s="Array"==this.schema[i]?o==t?e+(s.length?".every(function(r"+t+"){  objs.push(r"+t+s+")})":""):e+(s.length?".map(function(r"+t+"){  return r"+t+s+"})":""):e+s;return n=o>-1?"var objs = []; obj"+s+";"+("Date"==this.schema.path?"return parseDate(objs)":"return objs;"):"return "+("Date"==this.schema.path?"parseDate(obj"+s+");":"obj"+s+";"),new Function("obj",n)};s.operators={eq:function(t,r){return t==r},ne:function(t,r){return t!=r},lt:function(t,r){return t<r},lte:function(t,r){return t<=r},gt:function(t,r){return t>r},gte:function(t,r){return t>=r},in:function(t,r){return r.indexOf(t)>-1},ni:function(t,r){return-1==r.indexOf(t)},li:function(t,r){return r.test(t)},bt:function(t,r){return t>=r[0]&&t<=r[1]}},s.addOperator=function(t,r){this.operators[t]=r};var l=function(t,r,i){for(var e=0,n=t.length;e<n;e++)if(i(t[e],r))return!0};s.addCondition=function(t,r){this.operators[t]=r},s.getCriteria=function(t){var r=t.split(".$");return{field:r[0],operator:r[1]||"eq"}},s.setGetterFn=function(t,r){this.getterFns[t]=r},s.addRecords=function(t){return!(!t||!t.length)&&("Array"==o(t)?this.records=this.records.concat(t):this.records.push(t),this.schema||c(this,t[0]),!0)},s._findAll=function(t,r,i,n){var s,c,o,h=[],a=this.getterFns[r];if("li"==n&&"string"==typeof i&&(i=new RegExp(i)),s=this.operators[n],"Array"==this.schema[r]&&(o=s,s=l),Array.isArray(this.customFieldFilter)&&this.customFieldFilter.length>0){var u=$.grep(this.customFieldFilter,(function(t,i){return t.field===r}));u.length>0&&(s=u[0].filterFn)}return e(t,(function(t){c=a(t),s(c,i,o)&&h.push(t)})),h},s.find=function(t,r){var i,e;return r||(r=t,t=this.id),e=this.getterFns[t],function(t,r,i){for(let e=0,n=t.length;e<n;e++)if(!1===r.call(i,t[e],e))return}(this.records,(function(t){if(e(t)==r)return i=t,!1})),i},e(["where","or","groupBy","select","pluck","limit","offset","order","uniq","near"],(function(t){s[t]=function(r){var i=new v(this,this.records);return i[t].apply(i,arguments),i}})),e(["update_all","destroy_all"],(function(t){s[t]=function(r){var i=new v(this,this.records);return i[t].apply(i,arguments)}})),e(["count","first","last","all"],(function(t){Object.defineProperty(s,t,{get:function(){return new v(this,this.records)[t]}})}));var f=function(t,r,i){for(var e=0,n=i.length;e<n;e++)if(this.getterFns[i[e]](t)!==this.getterFns[i[e]](r))return!1;return!0},d=function(t,r){var i,e,n;for(i in t)e=this.jQ.getCriteria(i),n=this.jQ._findAll(n||r,e.field,t[i],e.operator);return n},g=function(t,r){var i,n=this.jQ.getterFns[t],s={};r.length;return e(r,(function(t){i=n(t),(s[i]||(s[i]=[])).push(t)})),s},p=function(t,r){for(var i,e,n=r.slice(0),s=0,c=t.length;s<c;s++)i=this.jQ.getterFns[t[s].field],e="asc"==t[s].direction?1:-1,n.sort((function(t,r){var n=i(t),s=i(r);return(n<s?-1:n>s?1:0)*e}));return n},y=function(t,r){var i,n=this,s=[];return e(t,(function(t){i=n.jQ.getterFns[t],e(r,(function(r,e){(s[e]||(s[e]={}))[t]=i(r)}))})),s},j=function(t,r){var i=this.jQ.getterFns[t],n=[];return e(r,(function(t){n.push(i(t))})),n},m=function(t,r){var i=[],n=this;return"Object"!=o(r[0])?(e(r,(function(t){-1==i.indexOf(t)&&i.push(t)})),i):(i.push(r[0]),e(r,(function(r){for(var e=!1,s=0,c=i.length;s<c;s++)f.call(n.jQ,i[s],r,t)&&(e=!0);e||i.push(r)})),i)},v=function(t,r){return this.jQ=t,this.records=r,this.criteria={},this},F=v.prototype;F.each=function(t,r){e(this.exec()||[],t,r)},F.exec=F.toArray=function(t){var r;return this.criteria.all&&(r=this.records),this.criteria.where&&(r=d.call(this,this.criteria.where,r||this.records)),this.criteria.or&&(r=r.concat(d.call(this,this.criteria.or,this.records)),r=m.call(this,[this.jQ.id],r)),this.criteria.order&&(r=p.call(this,this.criteria.order,r||this.records)),this.criteria.near&&(r=O.call(this,this.criteria.near,r||this.records)),this.criteria.uniq&&(r=m.call(this,this.criteria.uniq,r||this.records)),this.criteria.select&&(r=y.call(this,this.criteria.select,r||this.records)),this.criteria.pluck&&(r=j.call(this,this.criteria.pluck,r||this.records)),this.criteria.limit&&(r=(r||this.records).slice(this.criteria.offset||0,(this.criteria.offset||0)+this.criteria.limit)),this.criteria.group_by&&(r=g.call(this,this.criteria.group_by,r||this.records)),r||(r=this.records),t&&e(r,t),this.jQ.onResult&&this.jQ.onResult(r,this.criteria),r};var b=function(t,r){var i;for(i in this.criteria[t]||(this.criteria[t]={}),r)this.criteria[t][i]=r[i];return this};F.where=function(t){return b.call(this,"where",t)},F.or=function(t){return b.call(this,"or",t)},F.groupBy=function(t){return this.criteria.group_by=t,this},F.select=function(){return this.criteria.select=arguments,this},F.pluck=function(t){return this.criteria.pluck=t,this},F.limit=function(t){return this.criteria.limit=t,this},F.offset=function(t){return this.criteria.offset=t,this},F.order=function(t){var r;for(r in this.criteria.order=this.criteria.order||[],t)this.criteria.order.push({field:r,direction:t[r].toLowerCase()});return this},F.uniq=function(){return this.criteria.uniq=!(arguments.length>0)||arguments,this},Object.defineProperty(F,"count",{get:function(){this.criteria.count=!0;var t=this.exec();return"Array"==o(t)?this.exec().length:Object.keys(t).length}}),Object.defineProperty(F,"all",{get:function(){return this.criteria.all=!0,this.exec()}}),Object.defineProperty(F,"first",{get:function(){return this.criteria.first=!0,this.exec()[0]}}),Object.defineProperty(F,"last",{get:function(){this.criteria.last=!0;var t=this.exec();return t[t.length-1]}});var _=6371,Q=function(t){return t*Math.PI/180},O=function(t,r){var i=[],n=this,s="mile"==t.unit?.6214:1,c=n.jQ.getterFns[n.jQ.lat],o=n.jQ.getterFns[n.jQ.lng];return e(r,(function(r){var e,n,h,a,u,l,f;r._distance=(e=c(r),n=t.lat,h=o(r),a=t.lng,u=Q(n-e),l=Q(a-h),e=Q(e),n=Q(n),f=Math.sin(u/2)*Math.sin(u/2)+Math.sin(l/2)*Math.sin(l/2)*Math.cos(e)*Math.cos(n),2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))*_*s),r._distance<=t.distance&&i.push(r)})),i.sort((function(t,r){return t._distance<r._distance?-1:t._distance>r._distance?1:0})),i};F.near=function(t,r,i,e){return this.criteria.near={lat:t,lng:r,distance:i,unit:e||"km"},this},F.map=F.collect=function(t){var r,i=[];return this.exec((function(e){(r=t(e))&&i.push(r)})),i},F.sum=function(t){var r,i=0,n=this.jQ.getterFns[t];return this.criteria.group_by&&(r=!0,i={}),this.exec((function(t,s){r?(i[s]=0,e(t,(function(t){i[s]=i[s]+(n(t)||0)}))):i+=n(t)||0})),i},F.toJQ=function(){var t=r(this.all,{schema:!0});return t.schema=this.jQ.schema,t.getterFns=this.jQ.getterFns,t},F.destroy_all=F.destroy=function(){var t=this.all;return e(t,(function(t,r){t._destroy_=!0})),this.records=this.jQ.records=this.records.filter((function(t){return!t._destroy_})),t},F.update_all=F.update=function(t){if(!t)return!1;var r=0;return e(this.all,(function(i){e(t,(function(t,r){i[r]=t})),r+=1})),r},Object.defineProperty||(Object.defineProperty=function(t,r,i){t[r]=i.get})}(this);
!function(t,e,i){"use strict";var a={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};function r(t,e){var i=a,r="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(i.escape,(function(t,e){return"',escapeStr("+e.replace(/\\'/g,"'")+"),'"})).replace(i.interpolate,(function(t,e){return"',"+e.replace(/\\'/g,"'")+",'"})).replace(i.evaluate||null,(function(t,e){return"');"+e.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+";__p.push('"})).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";let s=new Function("obj",r);return e?s(e):function(t){return s(t)}}var s=function(e,i,a){var r=this;this.opts=a||{},this.callbacks=this.opts.callbacks||{},this.$container=t(i),this.view=this.opts.view||h,this.criterias=[],this.orders=[],this._index=1,this.appendToContainer=this.opts.appendToContainer||l,this.has_pagination=!!this.opts.pagination,this.has_order=!!this.opts.order,this.search_text="",this.anyFilterSelected=!1,this.has_emptyView=!!this.opts.emptyView,this.has_headerView=!!this.opts.headerView,this.setTemplate(this.opts.template),t.each(this.opts.criterias||[],(function(){r.addCriteria(this)})),this.Model=JsonQuery(),this.Model.getterFns._fid=function(t){return t._fid},this.addRecords(e,this.opts.filter_on_init||!1),this.initSorting(),this.has_pagination&&this.initPagination()},n=s.prototype;Object.defineProperty(n,"records",{get:function(){return this.Model.records}}),Object.defineProperty(n,"recordsCount",{get:function(){return this.Model.records.length}}),n.templateBuilder=r,n.execCallback=function(){var t=arguments[0];this.callbacks[t]&&this.callbacks[t].apply(this,Array.prototype.slice.call(arguments,1))},n.addCallback=function(t,e){t&&e&&(this.callbacks[t]=e)},n.addRecords=function(t,e){this.Model.schema;this.execCallback("beforeAddRecords",t);var i=this.Model.addRecords(t);this.emptyView(i),i&&(this.has_scheme||this.initSearch(this.opts.search),this.render(t),!1!==e&&this.filter()),this.execCallback("afterAddRecords",t)},n.reload=function(t){this.Model.records=[],this.addRecords(t)},n.emptyView=function(t){var e=this.opts.emptyView;if(this.has_emptyView){var a=i.querySelector(e.none),r=i.querySelector(e.context);t?(a.style.display="none",r.style.display=""):(a.style.display="",r.style.display="none")}},n.removeRecords=function(e){var i;if(t.isPlainObject(e)?i=this.Model.where(e).pluck("_fid").all:Array.isArray(e)&&(i=this.Model.where({"id.$in":e}).pluck("_fid").all),!i)return!1;for(var a,r=this.Model.records,s=0,n=i.length,h=r.length-1;h>-1&&(a=r[h]._fid,i.indexOf(a)>-1&&(r.splice(h,1),s++,t("#fjs_"+a).remove()),s!==n);h--);return this.execCallback("afterRemove"),!0};var h=function(t,e){return this.templateFn(t)};n.render=function(e){let i=this;e.length&&(this.execCallback("beforeRender",e),t.each(e,(function(t){i.execCallback("beforeRecordRender",this),this._fid=i._index++,i.has_pagination||i.renderItem(this,t)})))},n.renderItem=function(e,i){if(e){var a=this.view(e,i);"string"==typeof a&&(a=t(a.trim())),a.attr("id","fjs_"+e._fid).addClass("fjs_item"),this.appendToContainer(a,e)}};var l=function(t,e){this.$container.append(t)};n.addCriteria=function(e){var i=this;return!!e&&(Array.isArray(e)?t.each(e,(function(){o.call(i,this)})):o.call(i,e),!0)};var o=function(e){return!!(e&&e.field&&e.ele)&&(e.ele.indexOf("input:checkbox")>0&&(e.ele=e.ele.replace("input:checkbox","input[type=checkbox]")),e.$ele=t(e.ele),!!e.$ele.length&&(e=function(t){var e=t.$ele,i=t.$ele.attr("type");return t.selector||("INPUT"===e.get(0).tagName?t.selector="checkbox"===i||"radio"===i?":checked":":input":"SELECT"===e.get(0).tagName&&(t.selector="select")),t.event||(t.event="checkbox"===i||"radio"===i||"button"===i?"click":"change"),t}(e),this.bindEvent(e.ele,e.event),e._q=e.field+("range"===e.type?".$bt":""),e.active=!0,this.criterias.push(e),!0))};n.removeCriteria=function(e){let i,a=null;t.each(this.criterias,(function(t){this.field===e&&(a=t)})),null!==a&&(i=this.criterias.splice(a,1)[0],t("body").off(i.event,i.ele))};var c=function(e,i){var a=this;e&&(Array.isArray(e)||(e=[e]),t.each(e,(function(){var e=this;t.each(a.criterias,(function(){this.field===e&&(this.active=i)}))})))};n.deactivateCriteria=function(t){c.call(self,t,!1)},n.activateCriteria=function(t){c.call(this,t,!0)},n.getSelectedValues=function(e,i){var a=[];return e.$ele.filter(e.selector).each((function(){a.push(t(this).val())})),Array.isArray(a[0])&&(a=[].concat.apply([],a)),!(e.all&&a.indexOf(e.all)>-1)&&("range"===e.type&&(a=a[0].split(e.delimiter||"-")),a=this.parseValues(e.field,a),i.execCallback("onFilterSelect",{criteria:e,values:a})||a)},n.lastResult=function(){return this.last_result||this.records},n.filter=function(){var e,i,a,r={},s=0,n=this;return t.each(this.criterias,(function(){this.active&&(e=n.getSelectedValues(this,n))&&e.length&&(i=Array.isArray(e)&&!this.type?this._q+".$in":this._q,r[i]=e,s+=1)})),this.anyFilterSelected=s>0,a=this.Model.where(r).order(this.orders),this.execCallback("shortResult",a),this.last_result=a.all,this.searchFilter(this.last_result)||(this.show(this.last_result),this.renderPagination(this.last_result.length),this.execCallback("afterFilter",this.last_result,JsonQuery.blankClone(this.Model,this.last_result))),r},n.show=function(e,i){var a=0,r=e.length;if(this.has_pagination){if(r=(a=this.page.perPage*(this.page.currentPage-1))+this.page.perPage,this.has_headerView){var s=t(this.opts.headerView)[0].innerHTML;this.$container[0].innerHTML=s}else this.$container[0].innerHTML="";for(;a<r;a++)this.renderItem(e[a],a)}else if(this.has_order)for(this.$container[0].innerHTML="";a<r;a++)this.renderItem(e[a],a);else for(t(".fjs_item").hide();a<r;a++)t("#fjs_"+e[a]._fid).show()},n.filterTimer=function(t){var e=this;this.filterTimeoutId&&clearTimeout(this.filterTimeoutId),this.filterTimeoutId=setTimeout((function(){e.filter()}),t)},n.bindEvent=function(e,a,r){var s=this;t(i).on(a,e,(function(t){s.filterTimer(s.opts.timeout||35)}))},n.initSearch=function(e){e&&e.ele&&(e.start_length||(this.opts.search.start_length=2),this.$search_ele=t(this.opts.search.ele),this.$search_ele.length&&(this.has_search=!0,this.searchFn=this.buildSearchFn(e.fields),0!=e.bindEvent&&this.bindEvent(e.ele,"keyup")))},n.buildSearchFn=function(e){let i=this,a=[];return e?t.each(e,(function(){a.push(i.Model.getterFns[this])})):t.each(i.Model.getterFns,(function(t,e){a.push(e)})),function(t,e){if(Array.isArray(t))for(let i=0,r=t.length;i<r;i++){let r=t[i].toLocaleUpperCase();for(let t=0,i=a.length;t<i;t++)if((a[t](e)+"").toLocaleUpperCase().indexOf(r)>-1)return!0}else{t=t.toLocaleUpperCase();for(let i=0,r=a.length;i<r;i++)if((a[i](e)+"").toLocaleUpperCase().indexOf(t)>-1)return!0}return!1}},n.lastSearchResult=function(){return this.search_text.length>this.opts.search.start_length||this.search_text.length?this.search_result:this.lastResult()},n.searchFilter=function(t){if(!this.has_search)return!1;let e=this.$search_ele[0].value;if(this.search_text=e.trim(),this.opts.search.multi){if(this.search_text=this.opts.search.multi.call(this),!this.search_text.length)return!1}else if(this.search_text.length<this.opts.search.start_length)return!1;let i=this.search(this.search_text,t||this.lastResult());return this.search_result=i,this.show(i),this.renderPagination(i.length),this.execCallback("afterFilter",i,JsonQuery.blankClone(this.Model,i)),!0},n.search=function(t,e){let i=[];for(let a=0,r=e.length;a<r;a++)this.searchFn(t,e[a])&&i.push(e[a]);return i},n.setStreaming=function(t){t&&(this.opts.streaming=t,t.data_url&&(t.stream_after=1e3*(t.stream_after||2),t.batch_size=t.batch_size||!1,this.streamData(t.stream_after)))};var u=function(){var e=this,i=this.opts.params||{},a=this.opts.streaming;if(i.offset=this.recordsCount,a.batch_size&&(i.limit=a.batch_size),this.has_search){let t=this.$search_ele[0].value;i.q=t.trim()}t.getJSON(a.data_url,i).done((function(t){null===i.limit||t&&t.length?(e.setStreamInterval(),e.addRecords(t)):e.stopStreaming()})).fail((function(t){e.stopStreaming()}))};n.setStreamInterval=function(){var t=this;!0!==t.opts.streaming.stop&&(t.streamingTimer=setTimeout((function(){u.call(t)}),t.opts.streaming.stream_after))},n.stopStreaming=function(){this.opts.streaming.stop=!0,this.streamingTimer&&clearTimeout(this.streamingTimer)},n.resumeStreaming=function(){this.opts.streaming.stop=!1,this.streamData(this.opts.streaming.stream_after)},n.streamData=function(t){this.setStreamInterval(),this.opts.streaming.batch_size||this.stopStreaming()},n.clear=function(){this.opts.streaming&&this.stopStreaming(),t.each(this.criterias,(function(){t(i).off(this.event,this.ele)})),this.opts.search&&t(i).off("keyup",this.opts.search.ele),this.filterTimeoutId&&clearTimeout(this.filterTimeoutId)},n.initSorting=function(){var t=this,e=this.opts.order||{};this.sort=new v(e,(function(i,a){var r={};e.onSortEvent&&e.onSortEvent.call(this,i,a),r[i.field]=i.order,t.orders=r,t.filter()})),this.addSort(e.sorts)},n.addSort=function(e){var i=this;return!!e&&(Array.isArray(e)?t.each(e,(function(){p.call(i,this)})):p.call(i,e),!0)};var p=function(e){return!!(e&&e.field&&e.ele)&&(e.$ele=t(e.ele),!!e.$ele.length&&(this.sort.addSorting(e.ele,e.field,e.order,e.toggle,e.enable),!0))};n.initPagination=function(){var t=this,e=this.opts.pagination;e.perPage||(e.perPage={}),e.perPage.values||(e.perPage.values=[10,20,30]),this.page={currentPage:1,perPage:e.perPage.values},this.paginator=new f(this.lastResult().length,this.opts.pagination,(function(e,i){t.page={currentPage:e,perPage:i},t.has_search?t.show(t.lastSearchResult()):t.show(t.lastResult()),t.execCallback("afterPagination",this)})),this.filter()},n.renderPagination=function(t){this.has_pagination&&this.paginator.setRecordCount(t)},n.parseValues=function(e,i){var a=void 0===this.Model.schema?"String":this.Model.schema[e];return"Number"===a?t.map(i,(function(t){return Number(t)})):"Boolean"===a?t.map(i,(function(t){return"true"===t||!0===t})):i},n.setTemplate=function(e,i){this.templateFn=r(t(e).html()),!0===i&&(this.$container.empty(),this.render(this.records),this.filter())};var f=function(e,i,a){var s;this.recordsCount=e,this.opts=i,this.$container=t(this.opts.container),s=this.opts.paginationView?t(this.opts.paginationView).html():P.pagination,this.paginationTmpl=r(s),this.currentPage=1,this.onPagination=a,this.initPerPage(),this.render(),this.bindEvents()},g=f.prototype;function d(t,e){for(var i=t,a=[];i<=e;i++)a.push(i);return a}g.bindEvents=function(){var e=this,i=t(this.opts.container);i.on("click","[data-page]",(function(i){e.setCurrentPage(t(this).data("page")),i.preventDefault()})),i.on("blur","[data-page-input]",(function(i){t(this).val(e.currentPage)})),i.on("keypress","[data-page-input]",(function(i){if(13===i.which){var a=parseInt(t(this).val());!isNaN(a)&&a>=1&&a<=e.totalPages()?e.setCurrentPage(a):t(this).val(e.currentPage)}}))},g.totalPages=function(){return Math.ceil(this.recordsCount/this.perPageCount)},g.setCurrentPage=function(t){t=this.toPage(t),this.prevCurrentPage=this.currentPage,this.currentPage=t,this.paginate(t)},g.setRecordCount=function(t){this.recordsCount=t,this.setCurrentPage(this.currentPage)},g.toPage=function(t){if("first"===t)return 1;if("last"===t)return this.totalPages();if("next"===t){var e=this.currentPage+1;return e>this.totalPages()?this.currentPage:e}if("prev"===t){var i=this.currentPage-1;return i<=0?this.currentPage:i}return parseInt(t)},g.paginate=function(t){this.render(),this.onPagination(this.currentPage,this.perPageCount)},g.render=function(){var t=this.getPages();this.currentPage>t.totalPages&&(this.currentPage=t.totalPages),0===this.currentPage&&(this.currentPage=1),t.currentPage=this.currentPage,this.$container[0].innerHTML=this.paginationTmpl(t)},g.getPages=function(){var t=this.totalPages();if(!this.opts.visiblePages)return{totalPages:t,pages:d(0,t),self:this};var e=Math.floor(this.opts.visiblePages/2),i=this.currentPage-e+1-this.opts.visiblePages%2,a=this.currentPage+e;return i<=0&&(i=1,a=this.opts.visiblePages),a>t&&((i=t-this.opts.visiblePages)<=0&&(i=1),a=t),{currentPage:this.currentPage,totalPages:t,pages:d(i,a),self:this}},g.initPerPage=function(){var e,i,a=this.opts.perPage,s=this;this.perPageCount=a.values[0],e=r(a.perPageView?t(a.perPageView).html():P.per_page)({values:a.values}),t(a.container).html(e),i="SELECT"===t(a.container).find("[data-perpage]").get(0).tagName?"change":"click",t(a.container).on(i,"[data-perpage]",(function(e){var i=parseInt(t(this).val()||t(this).data("value"));s.setPerPage(i),e.preventDefault()}))},g.setPerPage=function(t){this.perPageCount=t,this.setCurrentPage(this.currentPage)};var v=function(t,e){this.opts=t,this.opts.default_sort||(this.opts.default_sort="desc"),this.fields={},this.onSortEvent=e},m=v.prototype;m.addSorting=function(t,e,i,a,r){i||(i=this.opts.default_sort);var s={field:e,selector:t,order:i,toggle:a||!1,enable:r||!0};this.fields[e]=s,this.bindEvents(s)},m.bindEvents=function(e){var i,a=this,r=t(e.selector);e.event_type||(i="SELECT"==r.get(0).tagName?"change":"click"),r.data("sort",e.field),r.on(i,{field:e.field},(function(t){var e=a.fields[t.data.field];e.toggle&&(e.order="desc"==e.order?"asc":"desc"),a.onSortEvent.call(this,e,t),t.preventDefault()}))},m.disableAll=function(){t.each(this.field,(function(t,e){e.enable=!1}))},t.fn.filterjs=function(e,i){var a=t(this);a.data("fjs")||a.data("fjs",b(e,a,i))};var _=[],P=[],b=function(t,e,i){var a=new s(t,e,i);return _.push(a),a};function y(e,i){var a="fjs-"+e,r=t("["+a+"]"),s=[];return!!r.length&&(t.each(r,(function(){var e=t(this),i={ele:e},r=e.attr(a);if(s.push(i),!r)return s;t.each(r.split(","),(function(t,e){var a=e.split("=");i[a[0]]=a[1]}))})),i?s:s[0])}b.list=_,b.templateBuilder=r,e.FilterJS=b,P.pagination='<nav>  <ul class="pagination">    <% if(currentPage > 1) { %>      <li> <a href="#" data-page="first" aria-label="First"><span aria-hidden="true">First</span></a> </li>      <li><a href="#" data-page="prev" aria-label="Previous"><span aria-hidden="true">&larr; Previous</span></a></li>    <% } %>    <% for(var i = 0, l = pages.length; i < l; i++ ){ %>      <li class="<%= pages[i] === currentPage ? \'active\' : \'\' %>">        <a href="#" data-page="<%= pages[i] %>"><%= pages[i] %></a>      </li>    <% } %>    <% if( currentPage < totalPages ) { %>      <li><a href="#" data-page="next" aria-label="Next"><span aria-hidden="true">Next &rarr;</span></a></li>      <li><a href="#" data-page="last" aria-label="Last"><span aria-hidden="true">Last</span></a></li>    <% } %>  </ul></nav>',P.per_page='<label for="changepagesforId1" style="display:none">changepages</label><select id="changepagesforId1" size="1" name="per_page" data-perpage="true" class="per-page">  <% for(var i = 0; i < values.length; i++ ){ %>    <option value="<%= values[i] %>"><%= values[i] %></option>  <% } %></select>',b.auto=function(t,e){var i,a,r,s={},n=y("items");if(n&&n.template)return s.template=n.template,(a=y("search"))&&(a.fields&&(a.fields=a.fields.split(",")),s.search=a),e&&(s.callbacks=e),i=b(t,n.ele,s),(r=y("criteria",!0))&&i.addCriteria(r),i}}(jQuery,window,document);
//// vendor/2.0.12/store.modern.min.js => without cookieStorage.js
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.store=e()}}(function(){return function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";var r=e("../src/store-engine"),o=[e("../storages/localStorage"),e("../storages/sessionStorage"),e("../storages/memoryStorage")],i=[];t.exports=r.createStore(o,i)},{"../src/store-engine":2,"../storages/localStorage":5,"../storages/memoryStorage":6,"../storages/sessionStorage":7}],2:[function(e,t,n){"use strict";function r(){var e="undefined"==typeof console?null:console;if(e){var t=e.warn?e.warn:e.log;t.apply(e,arguments)}}function o(e,t,n){n||(n=""),e&&!l(e)&&(e=[e]),t&&!l(t)&&(t=[t]);var o=n?"__storejs_"+n+"_":"",i=n?new RegExp("^"+o):null,h=/^[a-zA-Z0-9_\-]*$/;if(!h.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var v={_namespacePrefix:o,_namespaceRegexp:i,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(r){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){function t(){if(n)return s(arguments,function(e,t){r[t]=e}),n.apply(o,r)}var r=a(arguments,0),o=this,i=[t].concat(r);return e.apply(o,i)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(r){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(l(e))return void s(e,function(e){t._addPlugin(e)});var n=u(this.plugins,function(t){return e===t});if(!n){if(this.plugins.push(e),!p(e))throw new Error("Plugins must be function values that return objects");var r=e.call(this);if(!g(r))throw new Error("Plugins must return an object of function properties");s(r,function(n,r){if(!p(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)})}},addStorage:function(e){r("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},m=f(v,d,{plugins:[]});return m.raw={},s(m,function(e,t){p(e)&&(m.raw[t]=c(m,e))}),s(e,function(e){m._addStorage(e)}),s(t,function(e){m._addPlugin(e)}),m}var i=e("./util"),a=i.slice,u=i.pluck,s=i.each,c=i.bind,f=i.create,l=i.isList,p=i.isFunction,g=i.isObject;t.exports={createStore:o};var d={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each(function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return o.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return o(this.storage,this.plugins,e)}}},{"./util":3}],3:[function(e,t,n){(function(e){"use strict";function n(){return Object.assign?Object.assign:function(e,t,n,r){for(var o=1;o<arguments.length;o++)u(Object(arguments[o]),function(t,n){e[n]=t});return e}}function r(){if(Object.create)return function(e,t,n,r){var o=a(arguments,1);return g.apply(this,[Object.create(e)].concat(o))};var e=function(){};return function(t,n,r,o){var i=a(arguments,1);return e.prototype=t,g.apply(this,[new e].concat(i))}}function o(){return String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function i(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function a(e,t){return Array.prototype.slice.call(e,t||0)}function u(e,t){c(e,function(e,n){return t(e,n),!1})}function s(e,t){var n=f(e)?[]:{};return c(e,function(e,r){return n[r]=t(e,r),!1}),n}function c(e,t){if(f(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function f(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function l(e){return e&&"[object Function]"==={}.toString.call(e)}function p(e){return e&&"[object Object]"==={}.toString.call(e)}var g=n(),d=r(),h=o(),v="undefined"!=typeof window?window:e;t.exports={assign:g,create:d,trim:h,bind:i,slice:a,each:u,map:s,pluck:c,isList:f,isFunction:l,isObject:p,Global:v}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,n){"use strict";function r(){return f.localStorage}function o(e){return r().getItem(e)}function i(e,t){return r().setItem(e,t)}function a(e){for(var t=r().length-1;t>=0;t--){var n=r().key(t);e(o(n),n)}}function u(e){return r().removeItem(e)}function s(){return r().clear()}var c=e("../src/util"),f=c.Global;t.exports={name:"localStorage",read:o,write:i,each:a,remove:u,clearAll:s}},{"../src/util":3}],6:[function(e,t,n){"use strict";function r(e){return s[e]}function o(e,t){s[e]=t}function i(e){for(var t in s)s.hasOwnProperty(t)&&e(s[t],t)}function a(e){delete s[e]}function u(e){s={}}t.exports={name:"memoryStorage",read:r,write:o,each:i,remove:a,clearAll:u};var s={}},{}],7:[function(e,t,n){"use strict";function r(){return f.sessionStorage}function o(e){return r().getItem(e)}function i(e,t){return r().setItem(e,t)}function a(e){for(var t=r().length-1;t>=0;t--){var n=r().key(t);e(o(n),n)}}function u(e){return r().removeItem(e)}function s(){return r().clear()}var c=e("../src/util"),f=c.Global;t.exports={name:"sessionStorage",read:o,write:i,each:a,remove:u,clearAll:s}},{"../src/util":3}]},{},[1])(1)});
//// vendor/1.11.10/dayjs.min.js
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){"use strict";var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",s="minute",u="hour",a="day",o="week",c="month",f="quarter",h="year",d="date",l="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",D={};D[g]=M;var p="$isDayjsObject",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if("string"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split("-");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v="set"+(this.$u?"UTC":"");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+"Hours",0);case u:return $(v+"Minutes",1);case s:return $(v+"Seconds",2);case i:return $(v+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f="set"+(this.$u?"UTC":""),l=(n={},n[a]=f+"Date",n[d]=f+"Date",n[c]=f+"Month",n[h]=f+"FullYear",n[u]=f+"Hours",n[s]=f+"Minutes",n[i]=f+"Seconds",n[r]=f+"Milliseconds",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,"0")},$=f||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return b.s(e.$y,4,"0");case"M":return a+1;case"MM":return b.s(a+1,2,"0");case"MMM":return h(n.monthsShort,a,c,3);case"MMMM":return h(c,a);case"D":return e.$D;case"DD":return b.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return h(n.weekdaysMin,e.$W,o,2);case"ddd":return h(n.weekdaysShort,e.$W,o,3);case"dddd":return o[e.$W];case"H":return String(s);case"HH":return b.s(s,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return $(s,u,!0);case"A":return $(s,u,!1);case"m":return String(u);case"mm":return b.s(u,2,"0");case"s":return String(e.$s);case"ss":return b.s(e.$s,2,"0");case"SSS":return b.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[["$ms",r],["$s",i],["$m",s],["$H",u],["$W",a],["$M",c],["$y",h],["$D",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));
