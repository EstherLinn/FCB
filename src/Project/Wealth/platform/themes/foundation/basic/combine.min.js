//// extensions.js/20240501
!function(t,e){"use strict";if(t.stopBubble||(t.stopBubble=function(t){t&&t.stopPropagation&&t.stopPropagation()}),t.stopDefault||(t.stopDefault=function(t){return t&&t.preventDefault&&t.preventDefault(),!1}),t.addObjectValue||(t.addObjectValue=function t(e,n,l){const o=t.d||(t.d={enumerable:!1,writable:!1,configurable:!1,value:null});o.value=l,Object.defineProperty(e,n,o)}),t.stringRender||(t.stringRender=function(t,e){return t.replace(/\{\{(.*?)\}\}/g,(function(t,n){const l=e[n];return l||0===l?l.toString():(null!==l&&console.warn(t+" is not match of %O",Object.keys(e)),"")}))}),!t.stringFormat){function n(t){return new RegExp("({)?\\{"+t+"\\}(?!})","gm")}t.stringFormat=function(t){let e=t;if(null==e)return"";for(let t=0;t<arguments.length-1;t++){let l=n(t);e=e.replace(l,null==arguments[t+1]?"":arguments[t+1])}return null==(l=e)?"":l.replace(n("\\d+"),"");var l}}t.debounce||(t.debounce=function(t,e,n){const l=t.delay||e||35;return function(...e){const o=this;t._id&&clearTimeout(t._id),n&&!t._id&&t.apply(o,e),t._id=setTimeout((()=>{n||t.apply(o,e),t._id=null}),l)}}),t.throttle||(t.throttle=function(t,e,n){const l=t.delay||e||35;let o=0,r=!0,i=!1;return null!=n&&"object"==typeof n&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),function(...e){const n=this,u=(new Date).getTime();u-o>l&&r?(t._id&&(t._id=null),o=u,t.apply(n,e)):!t._id&&i&&(t._id=setTimeout((()=>{o=(new Date).getTime(),t._id=null,t.apply(n,e)}),l))}}),t.getAllElements||(t.getAllElements=function(t){const n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return Array.prototype.slice.call(n.querySelectorAll(t),0)}),t.extend||(t.extend=function(t){t=t||{};for(let e=1;e<arguments.length;e++)if(arguments[e])for(let n in arguments[e])arguments[e].hasOwnProperty(n)&&(t[n]=arguments[e][n]);return t}),t.getParents||(t.getParents=function(t,n){void 0===n&&(n=e);const l=[];let o=t.parentNode;for(;o!==n;){const t=o;l.push(t),o=t.parentNode}return l.push(n),l})}(window,document);
!function(e,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():e.EventHandler=t(),"loading"!==document.readyState?e.EventHandler.Run():document.addEventListener("DOMContentLoaded",(function(){e.EventHandler.Run()}))}(this,(function(){"use strict";const e=function(){};e.prototype={AddClick:function(e,t,n){let c="click.eh";n&&(c+=".scope"),this._addEvent(c,e,t)},AddChange:function(e,t,n){let c="change.eh";!0===n&&(c+=".scope"),this._addEvent(c,e,t)},AddOnce:function(e,t){this._addEvent("once",e,t)},AddOnExec:function(e,t,n){let c="exec.eh";n&&(c+=".scope"),this._addEvent(c,e,t)},AddAction:function(e,t){this._addEvent("action",e,t)},AddMessage:function(e,t){this._addEvent("message",e,t)},_addEvent:function(e,t,n){t=t.toLowerCase(),this._handlerEvents[e][t]||(this._handlerEvents[e][t]=n)},_settings:{selector:"[data-eh]"},_handlerEvents:{"click.eh.scope":{},"click.eh":{},"change.eh.scope":{},"change.eh":{},"exec.eh.scope":{},"exec.eh":{},once:{},action:{},message:{}},Run:function(){const e=Object.keys(this._handlerEvents);for(let t in e)if(Object.hasOwn(e,t)){const n=e[t],c=this._handlerEvents[n];if(Object.entries(c).length>0)switch(n){case"once":this.OnceHandle(c);break;case"action":this.ActionHandle(c);break;case"exec.eh":this.OnExecHandle(n,c);break;case"exec.eh.scope":this.OnScopeExecHandle(n,c);break;case"click.eh":case"change.eh":this.OnEventHandle(n,c);break;case"click.eh.scope":case"change.eh.scope":this.OnScopeEventHandle(n,c);break;case"message":this.ListenMessage(c)}}}};const t=new e;return t.OnScopeEventHandle=function(e,t){let n=document.querySelectorAll(this._settings.selector);for(let c=0,s=n.length;c<s;++c){let s=n[c],o=s.dataset.eh;if(!o)continue;let l=o.split(",");for(let n=0,c=l.length;n<c;++n){let c=l[n],o=t[c];if(o){let t=e+"."+c;$(s).off(t).on(t,"[eh-"+c+"]",o)}}}},t.OnEventHandle=function(e,t){$(document.body).off(e).on(e,this._settings.selector,{handlers:t},(function(e){let t=this,n=t.dataset.eh;if(!n)return;let c=n.split(","),s=e.data.handlers;for(let n=0,o=c.length;n<o;++n){let o=c[n],l=s[o];l&&l.call(t,e,o)}}))},t.OnScopeExecHandle=function(e,t){let n=document.querySelectorAll(this._settings.selector);for(let c=0,s=n.length;c<s;++c){let s=n[c],o=s.dataset.eh;if(!o)continue;let l=o.split(",");for(let n=0,c=l.length;n<c;++n){let c=l[n],o=t[c];if(o){let t=e+"."+c;$(s).off(t).on(t,"[eh-"+c+"]",o),$("[eh-"+c+"]").trigger(t)}}}},t.OnExecHandle=function(e,t){$(document.body).off(e).on(e,this._settings.selector,{handlers:t},(function(e){let t=this,n=t.dataset.eh;if(!n)return;let c=n.split(","),s=e.data.handlers;for(let n=0,o=c.length;n<o;++n){let o=c[n],l=s[o];l&&l.call(t,e,o)}})),$(this._settings.selector).trigger(e)},t.OnceHandle=function(e){let t=document.querySelectorAll(this._settings.selector);for(let n=0,c=t.length;n<c;++n){let c=t[n],s=c.dataset.eh;if(!s)continue;let o=s.split(",");for(let t=0,n=o.length;t<n;++t){let n=o[t],s=e[n];s&&s.call(null,c,n)}}},t.ActionHandle=function(e){const t=Object.keys(e);for(let n in t)Object.hasOwn(t,n)&&e[t[n]].call(null,t[n])},t.ListenMessage=function(e){window.addEventListener("message",(function(t){const n=Object.keys(t.data);for(let c in n)if(Object.hasOwn(n,c)){const s=n[c];if(e.hasOwnProperty(s)){const n=t.data[s],c=t.origin;e[s](n,c)}}}),!1)},t}));
//// lib/1.5.2/filter.js => 20241017
!function(t){"use strict";let r=function(t,r){return new n(t,r||{})};t.JsonQuery=r,r.VERSION="0.0.2",r.Config={id:"id",latitude:"latitude",longitude:"longitude",date_regx:/^\d{4}-\d{2}-\d{2}$/},r.blankClone=function(t,r){return new n(r,{getterFns:t.getterFns,schema:t.schema,id:t.id,latitude:t.latitude,longitude:t.longitude})};let i=r.Config,e=function(t,r,i){if(t.length===+t.length)for(let e=0,n=t.length;e<n;e++)r.call(i,t[e],e);else for(let e in t)hasOwnProperty.call(t,e)&&r.call(i,t[e],e)},n=function(t,r){this.records=t||[],this.getterFns=r.getterFns||{},this.lat=r.latitude||i.latitude,this.lng=r.longitude||i.longitude,this.id=r.id,r.schema&&(this.schema=r.schema),this.records.length&&!this.schema&&c(this,t[0],r.schema)},s=n.prototype,c=function(t,r,e){t.schema={},t.id||(t.id=r._id?"_id":i.id),e||(h.call(t,r),a.call(t,r))},o=function(t){if(null==t)return"String";let r=Object.prototype.toString.call(t).slice(8,-1);return"String"==r&&t.match(i.date_regx)?"Date":r},h=function(t,r){let i,e,n,s;for(i in t)s=t[i],e=o(s),n=r?r+"."+i:i,this.schema[n]=e,"Object"==e?h.call(this,s,n):"Array"==e&&(["Object","Array"].indexOf(o(s[0]))>-1?h.call(this,t[i][0],n):this.schema[n]=o(s[0]))},a=function(t){let r,i,e;for(r in this.schema){i=this.schema[r];try{this.getterFns[r]||(this.getterFns[r]=u.call(this,r,i)),e=this.getterFns[r](t),"Array"==o(e)&&(this.schema[r]="Array")}catch(t){console.log("Error while generating getter function for selector : "+r+" NOTE: Define manually")}}},u=function(t,r){let i,e,n,s="",c=t.split("."),o=function(t,r){let i,e=0,n=0,s=r.length-1;for(let c=r.length-1;c>=0;c--)i=r.slice(0,c+1).join("."),"Array"==t[i]&&c<s&&(e=c,n+=1);return n>1?e+1:-1}(this.schema,c);for(let t=c.length-1;t>=0;t--)i=c.slice(0,t+1).join("."),e="['"+c[t]+"']",s="Array"==this.schema[i]?o==t?e+(s.length?".every(function(r"+t+"){  objs.push(r"+t+s+")})":""):e+(s.length?".map(function(r"+t+"){  return r"+t+s+"})":""):e+s;return n=o>-1?"var objs = []; obj"+s+";"+("Date"==this.schema.path?"return parseDate(objs)":"return objs;"):"return "+("Date"==this.schema.path?"parseDate(obj"+s+");":"obj"+s+";"),new Function("obj",n)};s.operators={eq:function(t,r){return t==r},ne:function(t,r){return t!=r},lt:function(t,r){return t<r},lte:function(t,r){return t<=r},gt:function(t,r){return t>r},gte:function(t,r){return t>=r},in:function(t,r){return r.indexOf(t)>-1},ni:function(t,r){return-1==r.indexOf(t)},li:function(t,r){return r.test(t)},bt:function(t,r){return t>=r[0]&&t<=r[1]}},s.addOperator=function(t,r){this.operators[t]=r};var l=function(t,r,i){for(var e=0,n=t.length;e<n;e++)if(i(t[e],r))return!0};s.addCondition=function(t,r){this.operators[t]=r},s.getCriteria=function(t){var r=t.split(".$");return{field:r[0],operator:r[1]||"eq"}},s.setGetterFn=function(t,r){this.getterFns[t]=r},s.addRecords=function(t){return!(!t||!t.length)&&("Array"==o(t)?this.records=this.records.concat(t):this.records.push(t),this.schema||c(this,t[0]),!0)},s._findAll=function(t,r,i,n){var s,c,o,h=[],a=this.getterFns[r];if("li"==n&&"string"==typeof i&&(i=new RegExp(i)),s=this.operators[n],"Array"==this.schema[r]&&(o=s,s=l),Array.isArray(this.customFieldFilter)&&this.customFieldFilter.length>0){var u=$.grep(this.customFieldFilter,(function(t,i){return t.field===r}));u.length>0&&(s=u[0].filterFn)}return e(t,(function(t){c=a(t),s(c,i,o)&&h.push(t)})),h},s.find=function(t,r){var i,e;return r||(r=t,t=this.id),e=this.getterFns[t],function(t,r,i){for(let e=0,n=t.length;e<n;e++)if(!1===r.call(i,t[e],e))return}(this.records,(function(t){if(e(t)==r)return i=t,!1})),i},e(["where","or","groupBy","select","pluck","limit","offset","order","uniq","near"],(function(t){s[t]=function(r){var i=new v(this,this.records);return i[t].apply(i,arguments),i}})),e(["update_all","destroy_all"],(function(t){s[t]=function(r){var i=new v(this,this.records);return i[t].apply(i,arguments)}})),e(["count","first","last","all"],(function(t){Object.defineProperty(s,t,{get:function(){return new v(this,this.records)[t]}})}));var f=function(t,r,i){for(var e=0,n=i.length;e<n;e++)if(this.getterFns[i[e]](t)!==this.getterFns[i[e]](r))return!1;return!0},d=function(t,r){var i,e,n;for(i in t)e=this.jQ.getCriteria(i),n=this.jQ._findAll(n||r,e.field,t[i],e.operator);return n},g=function(t,r){var i,n=this.jQ.getterFns[t],s={};r.length;return e(r,(function(t){i=n(t),(s[i]||(s[i]=[])).push(t)})),s},p=function(t,r){for(var i,e,n=r.slice(0),s=0,c=t.length;s<c;s++)i=this.jQ.getterFns[t[s].field],e="asc"==t[s].direction?1:-1,n.sort((function(t,r){var n=i(t),s=i(r);return(n<s?-1:n>s?1:0)*e}));return n},y=function(t,r){var i,n=this,s=[];return e(t,(function(t){i=n.jQ.getterFns[t],e(r,(function(r,e){(s[e]||(s[e]={}))[t]=i(r)}))})),s},j=function(t,r){var i=this.jQ.getterFns[t],n=[];return e(r,(function(t){n.push(i(t))})),n},m=function(t,r){var i=[],n=this;return"Object"!=o(r[0])?(e(r,(function(t){-1==i.indexOf(t)&&i.push(t)})),i):(i.push(r[0]),e(r,(function(r){for(var e=!1,s=0,c=i.length;s<c;s++)f.call(n.jQ,i[s],r,t)&&(e=!0);e||i.push(r)})),i)},v=function(t,r){return this.jQ=t,this.records=r,this.criteria={},this},F=v.prototype;F.each=function(t,r){e(this.exec()||[],t,r)},F.exec=F.toArray=function(t){var r;return this.criteria.all&&(r=this.records),this.criteria.where&&(r=d.call(this,this.criteria.where,r||this.records)),this.criteria.or&&(r=r.concat(d.call(this,this.criteria.or,this.records)),r=m.call(this,[this.jQ.id],r)),this.criteria.order&&(r=p.call(this,this.criteria.order,r||this.records)),this.criteria.near&&(r=O.call(this,this.criteria.near,r||this.records)),this.criteria.uniq&&(r=m.call(this,this.criteria.uniq,r||this.records)),this.criteria.select&&(r=y.call(this,this.criteria.select,r||this.records)),this.criteria.pluck&&(r=j.call(this,this.criteria.pluck,r||this.records)),this.criteria.limit&&(r=(r||this.records).slice(this.criteria.offset||0,(this.criteria.offset||0)+this.criteria.limit)),this.criteria.group_by&&(r=g.call(this,this.criteria.group_by,r||this.records)),r||(r=this.records),t&&e(r,t),this.jQ.onResult&&this.jQ.onResult(r,this.criteria),r};var b=function(t,r){var i;for(i in this.criteria[t]||(this.criteria[t]={}),r)this.criteria[t][i]=r[i];return this};F.where=function(t){return b.call(this,"where",t)},F.or=function(t){return b.call(this,"or",t)},F.groupBy=function(t){return this.criteria.group_by=t,this},F.select=function(){return this.criteria.select=arguments,this},F.pluck=function(t){return this.criteria.pluck=t,this},F.limit=function(t){return this.criteria.limit=t,this},F.offset=function(t){return this.criteria.offset=t,this},F.order=function(t){var r;for(r in this.criteria.order=this.criteria.order||[],t)this.criteria.order.push({field:r,direction:t[r].toLowerCase()});return this},F.uniq=function(){return this.criteria.uniq=!(arguments.length>0)||arguments,this},Object.defineProperty(F,"count",{get:function(){this.criteria.count=!0;var t=this.exec();return"Array"==o(t)?this.exec().length:Object.keys(t).length}}),Object.defineProperty(F,"all",{get:function(){return this.criteria.all=!0,this.exec()}}),Object.defineProperty(F,"first",{get:function(){return this.criteria.first=!0,this.exec()[0]}}),Object.defineProperty(F,"last",{get:function(){this.criteria.last=!0;var t=this.exec();return t[t.length-1]}});var _=6371,Q=function(t){return t*Math.PI/180},O=function(t,r){var i=[],n=this,s="mile"==t.unit?.6214:1,c=n.jQ.getterFns[n.jQ.lat],o=n.jQ.getterFns[n.jQ.lng];return e(r,(function(r){var e,n,h,a,u,l,f;r._distance=(e=c(r),n=t.lat,h=o(r),a=t.lng,u=Q(n-e),l=Q(a-h),e=Q(e),n=Q(n),f=Math.sin(u/2)*Math.sin(u/2)+Math.sin(l/2)*Math.sin(l/2)*Math.cos(e)*Math.cos(n),2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))*_*s),r._distance<=t.distance&&i.push(r)})),i.sort((function(t,r){return t._distance<r._distance?-1:t._distance>r._distance?1:0})),i};F.near=function(t,r,i,e){return this.criteria.near={lat:t,lng:r,distance:i,unit:e||"km"},this},F.map=F.collect=function(t){var r,i=[];return this.exec((function(e){(r=t(e))&&i.push(r)})),i},F.sum=function(t){var r,i=0,n=this.jQ.getterFns[t];return this.criteria.group_by&&(r=!0,i={}),this.exec((function(t,s){r?(i[s]=0,e(t,(function(t){i[s]=i[s]+(n(t)||0)}))):i+=n(t)||0})),i},F.toJQ=function(){var t=r(this.all,{schema:!0});return t.schema=this.jQ.schema,t.getterFns=this.jQ.getterFns,t},F.destroy_all=F.destroy=function(){var t=this.all;return e(t,(function(t,r){t._destroy_=!0})),this.records=this.jQ.records=this.records.filter((function(t){return!t._destroy_})),t},F.update_all=F.update=function(t){if(!t)return!1;var r=0;return e(this.all,(function(i){e(t,(function(t,r){i[r]=t})),r+=1})),r},Object.defineProperty||(Object.defineProperty=function(t,r,i){t[r]=i.get})}(this);
!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.FilterJS=e()}(this,(function(){"use strict";var t={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};function e(e,i){var a=t,r="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+e.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(a.escape,(function(t,e){return"',escapeStr("+e.replace(/\\'/g,"'")+"),'"})).replace(a.interpolate,(function(t,e){return"',"+e.replace(/\\'/g,"'")+",'"})).replace(a.evaluate||null,(function(t,e){return"');"+e.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+";__p.push('"})).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');";let s=new Function("obj",r);return i?s(i):function(t){return s(t)}}var i=function(t,e,i){var a=this;this.opts=i||{},this.callbacks=this.opts.callbacks||{},this.$container=$(e),this.view=this.opts.view||r,this.criterias=[],this.orders=[],this._index=1,this.appendToContainer=this.opts.appendToContainer||s,this.has_pagination=!!this.opts.pagination,this.has_order=!!this.opts.order,this.search_text="",this.anyFilterSelected=!1,this.has_emptyView=!!this.opts.emptyView,this.has_headerView=!!this.opts.headerView,this.setTemplate(this.opts.template),$.each(this.opts.criterias||[],(function(){a.addCriteria(this)})),this.Model=JsonQuery(),this.Model.getterFns._fid=function(t){return t._fid},this.addRecords(t,this.opts.filter_on_init||!1),this.initSorting(),this.has_pagination&&this.initPagination()},a=i.prototype;Object.defineProperty(a,"records",{get:function(){return this.Model.records}}),Object.defineProperty(a,"recordsCount",{get:function(){return this.Model.records.length}}),a.templateBuilder=e,a.execCallback=function(){var t=arguments[0];this.callbacks[t]&&this.callbacks[t].apply(this,Array.prototype.slice.call(arguments,1))},a.addCallback=function(t,e){t&&e&&(this.callbacks[t]=e)},a.addRecords=function(t,e){this.Model.schema;this.execCallback("beforeAddRecords",t);var i=this.Model.addRecords(t);this.emptyView(i),i&&(this.has_scheme||this.initSearch(this.opts.search),this.render(t),!1!==e&&this.filter()),this.execCallback("afterAddRecords",t)},a.reload=function(t){this.Model.records=[],this.addRecords(t)},a.emptyView=function(t){var e=this.opts.emptyView;if(this.has_emptyView){var i=document.querySelector(e.none),a=document.querySelector(e.context);t?(i.style.display="none",a.style.display=""):(i.style.display="",a.style.display="none")}},a.removeRecords=function(t){var e;if($.isPlainObject(t)?e=this.Model.where(t).pluck("_fid").all:Array.isArray(t)&&(e=this.Model.where({"id.$in":t}).pluck("_fid").all),!e)return!1;for(var i,a=this.Model.records,r=0,s=e.length,n=a.length-1;n>-1&&(i=a[n]._fid,e.indexOf(i)>-1&&(a.splice(n,1),r++,$("#fjs_"+i,this.$container).remove()),r!==s);n--);return this.execCallback("afterRemove"),!0};var r=function(t,e){return this.templateFn(t)};a.render=function(t){let e=this;t.length&&(this.execCallback("beforeRender",t),$.each(t,(function(t){e.execCallback("beforeRecordRender",this),this._fid=e._index++,e.has_pagination||e.renderItem(this,t)})))},a.renderItem=function(t,e){if(t){var i=this.view(t,e);"string"==typeof i&&(i=$(i.trim())),i.attr("id","fjs_"+t._fid).addClass("fjs_item"),this.appendToContainer(i,t)}};var s=function(t,e){this.$container.append(t)};a.addCriteria=function(t){var e=this;return!!t&&(Array.isArray(t)?$.each(t,(function(){n.call(e,this)})):n.call(e,t),!0)};var n=function(t){return!!(t&&t.field&&t.ele)&&(t.ele.indexOf("input:checkbox")>0&&(t.ele=t.ele.replace("input:checkbox","input[type=checkbox]")),t.$ele=$(t.ele),!!t.$ele.length&&(t=function(t){var e=t.$ele,i=t.$ele.attr("type");return t.selector||("INPUT"===e.get(0).tagName?t.selector="checkbox"===i||"radio"===i?":checked":":input":"SELECT"===e.get(0).tagName&&(t.selector="select")),t.event||(t.event="checkbox"===i||"radio"===i||"button"===i?"click":"change"),t}(t),this.bindEvent(t.ele,t.event),t._q=t.field+("range"===t.type?".$bt":""),t.active=!0,this.criterias.push(t),!0))};a.removeCriteria=function(t){let e,i=null;$.each(this.criterias,(function(e){this.field===t&&(i=e)})),null!==i&&(e=this.criterias.splice(i,1)[0],$("body").off(e.event,e.ele))};var h=function(t,e){var i=this;t&&(Array.isArray(t)||(t=[t]),$.each(t,(function(){var t=this;$.each(i.criterias,(function(){this.field===t&&(this.active=e)}))})))};a.deactivateCriteria=function(t){h.call(self,t,!1)},a.activateCriteria=function(t){h.call(this,t,!0)},a.getSelectedValues=function(t,e){var i=[];return t.$ele.filter(t.selector).each((function(){i.push($(this).val())})),Array.isArray(i[0])&&(i=[].concat.apply([],i)),!(t.all&&i.indexOf(t.all)>-1)&&("range"===t.type&&(i=i[0].split(t.delimiter||"-"),this.Model.schema[t.field]="Number"),i=this.parseValues(t.field,i),e.execCallback("onFilterSelect",{criteria:t,values:i})||i)},a.lastResult=function(){return this.last_result||this.records},a.filter=function(){var t,e,i,a={},r=0,s=this;return $.each(this.criterias,(function(){this.active&&(t=s.getSelectedValues(this,s))&&t.length&&(e=Array.isArray(t)&&!this.type?this._q+".$in":this._q,a[e]=t,r+=1)})),this.anyFilterSelected=r>0,i=this.Model.where(a).order(this.orders),this.execCallback("shortResult",i),this.last_result=i.all,this.searchFilter(this.last_result)||(this.show(this.last_result),this.renderPagination(this.last_result.length),this.execCallback("afterFilter",this.last_result,JsonQuery.blankClone(this.Model,this.last_result))),a},a.show=function(t,e){var i=0,a=t.length;if(this.has_pagination){if(a=(i=this.page.perPage*(this.page.currentPage-1))+this.page.perPage,this.has_headerView){var r=$(this.opts.headerView)[0].innerHTML;this.$container[0].innerHTML=r}else this.$container[0].innerHTML="";for(;i<a;i++)this.renderItem(t[i],i)}else if(this.has_order)for(this.$container[0].innerHTML="";i<a;i++)this.renderItem(t[i],i);else for($(".fjs_item",this.$container).hide();i<a;i++)$("#fjs_"+t[i]._fid,this.$container).show()},a.filterTimer=function(t){var e=this;this.filterTimeoutId&&clearTimeout(this.filterTimeoutId),this.filterTimeoutId=setTimeout((function(){e.filter()}),t)},a.bindEvent=function(t,e,i){var a=this;$(document).on(e,t,(function(t){a.filterTimer(a.opts.timeout||35)}))},a.initSearch=function(t){t&&t.ele&&(t.start_length||(this.opts.search.start_length=2),this.$search_ele=$(this.opts.search.ele),this.$search_ele.length&&(this.has_search=!0,this.searchFn=this.buildSearchFn(t.fields),0!=t.bindEvent&&this.bindEvent(t.ele,"keyup")))},a.buildSearchFn=function(t){let e=this,i=[];return t?$.each(t,(function(){i.push(e.Model.getterFns[this])})):$.each(e.Model.getterFns,(function(t,e){i.push(e)})),function(t,e){if(Array.isArray(t))for(let a=0,r=t.length;a<r;a++){let r=t[a].toLocaleUpperCase();for(let t=0,a=i.length;t<a;t++)if((i[t](e)+"").toLocaleUpperCase().indexOf(r)>-1)return!0}else{t=t.toLocaleUpperCase();for(let a=0,r=i.length;a<r;a++)if((i[a](e)+"").toLocaleUpperCase().indexOf(t)>-1)return!0}return!1}},a.lastSearchResult=function(){return this.search_text.length>this.opts.search.start_length||this.search_text.length?this.search_result:this.lastResult()},a.searchFilter=function(t){if(!this.has_search)return!1;let e=this.$search_ele[0].value;if(this.search_text=e.trim(),this.opts.search.multi){if(this.search_text=this.opts.search.multi.call(this),!this.search_text.length)return!1}else if(this.search_text.length<this.opts.search.start_length)return!1;let i=this.search(this.search_text,t||this.lastResult());return this.search_result=i,this.show(i),this.renderPagination(i.length),this.execCallback("afterFilter",i,JsonQuery.blankClone(this.Model,i)),!0},a.search=function(t,e){let i=[];for(let a=0,r=e.length;a<r;a++)this.searchFn(t,e[a])&&i.push(e[a]);return i},a.setStreaming=function(t){t&&(this.opts.streaming=t,t.data_url&&(t.stream_after=1e3*(t.stream_after||2),t.batch_size=t.batch_size||!1,this.streamData(t.stream_after)))};var l=function(){var t=this,e=this.opts.params||{},i=this.opts.streaming;if(e.offset=this.recordsCount,i.batch_size&&(e.limit=i.batch_size),this.has_search){let t=this.$search_ele[0].value;e.q=t.trim()}$.getJSON(i.data_url,e).done((function(i){null===e.limit||i&&i.length?(t.setStreamInterval(),t.addRecords(i)):t.stopStreaming()})).fail((function(e){t.stopStreaming()}))};a.setStreamInterval=function(){var t=this;!0!==t.opts.streaming.stop&&(t.streamingTimer=setTimeout((function(){l.call(t)}),t.opts.streaming.stream_after))},a.stopStreaming=function(){this.opts.streaming.stop=!0,this.streamingTimer&&clearTimeout(this.streamingTimer)},a.resumeStreaming=function(){this.opts.streaming.stop=!1,this.streamData(this.opts.streaming.stream_after)},a.streamData=function(t){this.setStreamInterval(),this.opts.streaming.batch_size||this.stopStreaming()},a.clear=function(){this.opts.streaming&&this.stopStreaming(),$.each(this.criterias,(function(){$(document).off(this.event,this.ele)})),this.opts.search&&$(document).off("keyup",this.opts.search.ele),this.filterTimeoutId&&clearTimeout(this.filterTimeoutId)},a.initSorting=function(){var t=this,e=this.opts.order||{};this.sort=new f(e,(function(i,a){var r={};e.onSortEvent&&e.onSortEvent.call(this,i,a),r[i.field]=i.order,t.orders=r,t.filter()})),this.addSort(e.sorts)},a.addSort=function(t){var e=this;return!!t&&(Array.isArray(t)?$.each(t,(function(){o.call(e,this)})):o.call(e,t),!0)};var o=function(t){return!!(t&&t.field&&t.ele)&&(t.$ele=$(t.ele),!!t.$ele.length&&(this.sort.addSorting(t.ele,t.field,t.order,t.toggle,t.enable),!0))};a.initPagination=function(){var t=this,e=this.opts.pagination;e.perPage||(e.perPage={}),e.perPage.values||(e.perPage.values=[10,20,30]),this.page={currentPage:1,perPage:e.perPage.values},this.paginator=new c(this.lastResult().length,this.opts.pagination,(function(e,i){t.page={currentPage:e,perPage:i},t.has_search?t.show(t.lastSearchResult()):t.show(t.lastResult()),t.execCallback("afterPagination",this)})),this.filter()},a.renderPagination=function(t){this.has_pagination&&this.paginator.setRecordCount(t)},a.parseValues=function(t,e){var i=void 0===this.Model.schema?"String":this.Model.schema[t];return"Number"===i?$.map(e,(function(t){return Number(t)})):"Boolean"===i?$.map(e,(function(t){return"true"===t||!0===t})):e},a.setTemplate=function(t,i){this.templateFn=e($(t).html()),!0===i&&(this.$container.empty(),this.render(this.records),this.filter())};var c=function(t,i,a){var r;this.recordsCount=t,this.opts=i,this.$container=$(this.opts.container),r=this.opts.paginationView?$(this.opts.paginationView).html():v.pagination,this.paginationTmpl=e(r),this.currentPage=1,this.onPagination=a,this.initPerPage(),this.render(),this.bindEvents()},u=c.prototype;function p(t,e){for(var i=t,a=[];i<=e;i++)a.push(i);return a}u.bindEvents=function(){var t=this,e=$(this.opts.container);e.on("click","[data-page]",(function(e){t.setCurrentPage($(this).data("page")),e.preventDefault()})),e.on("blur","[data-page-input]",(function(e){$(this).val(t.currentPage)})),e.on("keypress","[data-page-input]",(function(e){if(13===e.which){var i=parseInt($(this).val());!isNaN(i)&&i>=1&&i<=t.totalPages()?t.setCurrentPage(i):$(this).val(t.currentPage)}}))},u.totalPages=function(){return Math.ceil(this.recordsCount/this.perPageCount)},u.setCurrentPage=function(t){t=this.toPage(t),this.prevCurrentPage=this.currentPage,this.currentPage=t,this.paginate(t)},u.setRecordCount=function(t){this.recordsCount=t,this.setCurrentPage(this.currentPage)},u.toPage=function(t){if("first"===t)return 1;if("last"===t)return this.totalPages();if("next"===t){var e=this.currentPage+1;return e>this.totalPages()?this.currentPage:e}if("prev"===t){var i=this.currentPage-1;return i<=0?this.currentPage:i}return parseInt(t)},u.paginate=function(t){this.render(),this.onPagination(this.currentPage,this.perPageCount)},u.render=function(){var t=this.getPages();this.currentPage>t.totalPages&&(this.currentPage=t.totalPages),0===this.currentPage&&(this.currentPage=1),t.currentPage=this.currentPage,this.$container[0].innerHTML=this.paginationTmpl(t)},u.getPages=function(){var t=this.totalPages();if(!this.opts.visiblePages)return{totalPages:t,pages:p(0,t),self:this};var e=Math.floor(this.opts.visiblePages/2),i=this.currentPage-e+1-this.opts.visiblePages%2,a=this.currentPage+e;return i<=0&&(i=1,a=this.opts.visiblePages),a>t&&((i=t-this.opts.visiblePages)<=0&&(i=1),a=t),{currentPage:this.currentPage,totalPages:t,pages:p(i,a),self:this}},u.initPerPage=function(){var t,i,a=this.opts.perPage,r=this;this.perPageCount=a.values[0],t=e(a.perPageView?$(a.perPageView).html():v.per_page)({values:a.values}),$(a.container).html(t),i="SELECT"===$(a.container).find("[data-perpage]").get(0).tagName?"change":"click",$(a.container).on(i,"[data-perpage]",(function(t){var e=parseInt($(this).val()||$(this).data("value"));r.setPerPage(e),t.preventDefault()}))},u.setPerPage=function(t){this.perPageCount=t,this.setCurrentPage(this.currentPage)};var f=function(t,e){this.opts=t,this.opts.default_sort||(this.opts.default_sort="desc"),this.fields={},this.onSortEvent=e},d=f.prototype;d.addSorting=function(t,e,i,a,r){i||(i=this.opts.default_sort);var s={field:e,selector:t,order:i,toggle:a||!1,enable:r||!0};this.fields[e]=s,this.bindEvents(s)},d.bindEvents=function(t){var e,i=this,a=$(t.selector);t.event_type||(e="SELECT"==a.get(0).tagName?"change":"click"),a.data("sort",t.field),a.on(e,{field:t.field},(function(t){var e=i.fields[t.data.field];e.toggle&&(e.order="desc"==e.order?"asc":"desc"),i.onSortEvent.call(this,e,t),t.preventDefault()}))},d.disableAll=function(){$.each(this.field,(function(t,e){e.enable=!1}))},$.fn.filterjs=function(t,e){var i=$(this);i.data("fjs")||i.data("fjs",m(t,i,e))};var g=[],v=[],m=function(t,e,a){var r=new i(t,e,a);return g.push(r),r};function _(t,e){var i="fjs-"+t,a=$("["+i+"]"),r=[];return!!a.length&&($.each(a,(function(){var t=$(this),e={ele:t},a=t.attr(i);if(r.push(e),!a)return r;$.each(a.split(","),(function(t,i){var a=i.split("=");e[a[0]]=a[1]}))})),e?r:r[0])}return m.list=g,m.templateBuilder=e,window.FilterJS=m,v.pagination='<nav>  <ul class="pagination">    <% if(currentPage > 1) { %>      <li> <a href="#" data-page="first" aria-label="First"><span aria-hidden="true">First</span></a> </li>      <li><a href="#" data-page="prev" aria-label="Previous"><span aria-hidden="true">&larr; Previous</span></a></li>    <% } %>    <% for(var i = 0, l = pages.length; i < l; i++ ){ %>      <li class="<%= pages[i] === currentPage ? \'active\' : \'\' %>">        <a href="#" data-page="<%= pages[i] %>"><%= pages[i] %></a>      </li>    <% } %>    <% if( currentPage < totalPages ) { %>      <li><a href="#" data-page="next" aria-label="Next"><span aria-hidden="true">Next &rarr;</span></a></li>      <li><a href="#" data-page="last" aria-label="Last"><span aria-hidden="true">Last</span></a></li>    <% } %>  </ul></nav>',v.per_page='<label for="changepagesforId1" style="display:none">changepages</label><select id="changepagesforId1" size="1" name="per_page" data-perpage="true" class="per-page">  <% for(var i = 0; i < values.length; i++ ){ %>    <option value="<%= values[i] %>"><%= values[i] %></option>  <% } %></select>',m.auto=function(t,e){var i,a,r,s={},n=_("items");if(n&&n.template)return s.template=n.template,(a=_("search"))&&(a.fields&&(a.fields=a.fields.split(",")),s.search=a),e&&(s.callbacks=e),i=m(t,n.ele,s),(r=_("criteria",!0))&&i.addCriteria(r),i},m}));
//// vendor/2.0.12/store.modern.min.js => without cookieStorage.js
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.store=e()}}(function(){return function e(t,n,r){function o(a,u){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return o(n?n:e)},f,f.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";var r=e("../src/store-engine"),o=[e("../storages/localStorage"),e("../storages/sessionStorage"),e("../storages/memoryStorage")],i=[];t.exports=r.createStore(o,i)},{"../src/store-engine":2,"../storages/localStorage":5,"../storages/memoryStorage":6,"../storages/sessionStorage":7}],2:[function(e,t,n){"use strict";function r(){var e="undefined"==typeof console?null:console;if(e){var t=e.warn?e.warn:e.log;t.apply(e,arguments)}}function o(e,t,n){n||(n=""),e&&!l(e)&&(e=[e]),t&&!l(t)&&(t=[t]);var o=n?"__storejs_"+n+"_":"",i=n?new RegExp("^"+o):null,h=/^[a-zA-Z0-9_\-]*$/;if(!h.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var v={_namespacePrefix:o,_namespaceRegexp:i,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(r){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){function t(){if(n)return s(arguments,function(e,t){r[t]=e}),n.apply(o,r)}var r=a(arguments,0),o=this,i=[t].concat(r);return e.apply(o,i)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(r){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(l(e))return void s(e,function(e){t._addPlugin(e)});var n=u(this.plugins,function(t){return e===t});if(!n){if(this.plugins.push(e),!p(e))throw new Error("Plugins must be function values that return objects");var r=e.call(this);if(!g(r))throw new Error("Plugins must return an object of function properties");s(r,function(n,r){if(!p(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)})}},addStorage:function(e){r("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},m=f(v,d,{plugins:[]});return m.raw={},s(m,function(e,t){p(e)&&(m.raw[t]=c(m,e))}),s(e,function(e){m._addStorage(e)}),s(t,function(e){m._addPlugin(e)}),m}var i=e("./util"),a=i.slice,u=i.pluck,s=i.each,c=i.bind,f=i.create,l=i.isList,p=i.isFunction,g=i.isObject;t.exports={createStore:o};var d={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each(function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return o.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return o(this.storage,this.plugins,e)}}},{"./util":3}],3:[function(e,t,n){(function(e){"use strict";function n(){return Object.assign?Object.assign:function(e,t,n,r){for(var o=1;o<arguments.length;o++)u(Object(arguments[o]),function(t,n){e[n]=t});return e}}function r(){if(Object.create)return function(e,t,n,r){var o=a(arguments,1);return g.apply(this,[Object.create(e)].concat(o))};var e=function(){};return function(t,n,r,o){var i=a(arguments,1);return e.prototype=t,g.apply(this,[new e].concat(i))}}function o(){return String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function i(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function a(e,t){return Array.prototype.slice.call(e,t||0)}function u(e,t){c(e,function(e,n){return t(e,n),!1})}function s(e,t){var n=f(e)?[]:{};return c(e,function(e,r){return n[r]=t(e,r),!1}),n}function c(e,t){if(f(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function f(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function l(e){return e&&"[object Function]"==={}.toString.call(e)}function p(e){return e&&"[object Object]"==={}.toString.call(e)}var g=n(),d=r(),h=o(),v="undefined"!=typeof window?window:e;t.exports={assign:g,create:d,trim:h,bind:i,slice:a,each:u,map:s,pluck:c,isList:f,isFunction:l,isObject:p,Global:v}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],5:[function(e,t,n){"use strict";function r(){return f.localStorage}function o(e){return r().getItem(e)}function i(e,t){return r().setItem(e,t)}function a(e){for(var t=r().length-1;t>=0;t--){var n=r().key(t);e(o(n),n)}}function u(e){return r().removeItem(e)}function s(){return r().clear()}var c=e("../src/util"),f=c.Global;t.exports={name:"localStorage",read:o,write:i,each:a,remove:u,clearAll:s}},{"../src/util":3}],6:[function(e,t,n){"use strict";function r(e){return s[e]}function o(e,t){s[e]=t}function i(e){for(var t in s)s.hasOwnProperty(t)&&e(s[t],t)}function a(e){delete s[e]}function u(e){s={}}t.exports={name:"memoryStorage",read:r,write:o,each:i,remove:a,clearAll:u};var s={}},{}],7:[function(e,t,n){"use strict";function r(){return f.sessionStorage}function o(e){return r().getItem(e)}function i(e,t){return r().setItem(e,t)}function a(e){for(var t=r().length-1;t>=0;t--){var n=r().key(t);e(o(n),n)}}function u(e){return r().removeItem(e)}function s(){return r().clear()}var c=e("../src/util"),f=c.Global;t.exports={name:"sessionStorage",read:o,write:i,each:a,remove:u,clearAll:s}},{"../src/util":3}]},{},[1])(1)});
//// vendor/1.11.10/dayjs.min.js
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).dayjs=e()}(this,(function(){"use strict";var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",s="minute",u="hour",a="day",o="week",c="month",f="quarter",h="year",d="date",l="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",D={};D[g]=M;var p="$isDayjsObject",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if("string"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split("-");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v="set"+(this.$u?"UTC":"");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+"Hours",0);case u:return $(v+"Minutes",1);case s:return $(v+"Seconds",2);case i:return $(v+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f="set"+(this.$u?"UTC":""),l=(n={},n[a]=f+"Date",n[d]=f+"Date",n[c]=f+"Month",n[h]=f+"FullYear",n[u]=f+"Hours",n[s]=f+"Minutes",n[i]=f+"Seconds",n[r]=f+"Milliseconds",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,"0")},$=f||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return b.s(e.$y,4,"0");case"M":return a+1;case"MM":return b.s(a+1,2,"0");case"MMM":return h(n.monthsShort,a,c,3);case"MMMM":return h(c,a);case"D":return e.$D;case"DD":return b.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return h(n.weekdaysMin,e.$W,o,2);case"ddd":return h(n.weekdaysShort,e.$W,o,3);case"dddd":return o[e.$W];case"H":return String(s);case"HH":return b.s(s,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return $(s,u,!0);case"A":return $(s,u,!1);case"m":return String(u);case"mm":return b.s(u,2,"0");case"s":return String(e.$s);case"ss":return b.s(e.$s,2,"0");case"SSS":return b.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[["$ms",r],["$s",i],["$m",s],["$H",u],["$W",a],["$M",c],["$y",h],["$D",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}));
